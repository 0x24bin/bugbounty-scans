<!doctype html>
<html lang="en" style="height: 100%">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Touch Trivia</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <meta name="theme-color" content="#fcb314">
  </head>
  <body style="height: 100%; margin-top: -10px;
	background: rgb(252,179,20); /* Old browsers */
	background: -moz-linear-gradient(top, rgba(252,179,20,1) 0%, rgba(255,114,0,1) 100%); /* FF3.6+ */
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(252,179,20,1)), color-stop(100%,rgba(255,114,0,1))); /* Chrome,Safari4+ */
	background: -webkit-linear-gradient(top, rgba(252,179,20,1) 0%,rgba(255,114,0,1) 100%); /* Chrome10+,Safari5.1+ */
	background: -o-linear-gradient(top, rgba(252,179,20,1) 0%,rgba(255,114,0,1) 100%); /* Opera 11.10+ */
	background: -ms-linear-gradient(top, rgba(252,179,20,1) 0%,rgba(255,114,0,1) 100%); /* IE10+ */
	background: linear-gradient(to bottom, rgba(252,179,20,1) 0%,rgba(255,114,0,1) 100%); /* W3C */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#fcb314', endColorstr='#ff7200',GradientType=0 ); /* IE6-9 */">
    
    	<div><h3 class="muted" style="color: #067ab4; margin-left:auto; margin-right:auto; text-align: center">Welcome to Touch Trivia!</h3></div>
    	<div><button onclick="samlRedirect()" style="width: 100%; display: inline-block;
  *display: inline;
  /* IE7 inline-block hack */
  *zoom: 1;
  padding: 4px 12px;
  margin-bottom: 0;
  font-size: 14px;
  line-height: 20px;
  text-align: center;
  vertical-align: middle;
  cursor: pointer;
  color: #606060;
  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75);
  background-color: #f5f5f5;
  background-image: -moz-linear-gradient(top, white, #e6e6e6);
  background-image: -webkit-gradient(linear, 0 0, 0 100%, from(white), to(#e6e6e6));
  background-image: -webkit-linear-gradient(top, white, #e6e6e6);
  background-image: -o-linear-gradient(top, white, #e6e6e6);
  background-image: linear-gradient(to bottom, #ffffff, #e6e6e6);
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffe6e6e6', GradientType=0);
  border-color: #e6e6e6 #e6e6e6 #bfbfbf;
  border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);
  *background-color: #e6e6e6;
  /* Darken IE7 buttons by default so they stand out more given they won't have borders */
  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
  border: 1px solid #cccccc;
  *border: 0;
  border-bottom-color: #b3b3b3;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px;
  *margin-left: .3em;
  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);
  -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05)">Login with AT&T UID</button></div>
  </body>
  <script>
  	function samlRedirect() {
  		var relayState = location.hash.replace('#/', '/');
  		if(!relayState) {
  			relayState = getParameterByName('RelayState');
  		}
  		var env = 'prod';
  		var envParam = getParameterByName('env');
  		if(envParam) {
  			env = envParam;
  		}
  		
  		window.location = 'https://www.e-access.att.com/usersvcs/cspsaml/?service=touchtrivia&servicetype=' + env + '&RelayState=' + relayState;
  	}
  	
  	function getParameterByName(name) {
  	    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
  	    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
  	        results = regex.exec(location.search);
  	    return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
  	}
  </script>
</html>