<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head><meta property="og:type" content="website">
<meta property="og:image" content="https://bugzilla.mozilla.org/extensions/OpenGraph/web/moz-social-bw-rgb-1200x1200.png">
<meta property="og:title" content="828312 - HTML file with Javascript completely hangs Firefox 18.0">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=828312">

    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;string&quot;:{&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;attach_desc_required&quot;:&quot;You must enter a Description for this attachment.&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxusermatches&quot;:&quot;50&quot;,&quot;cookiepath&quot;:&quot;/&quot;}}">
    <title>828312 - HTML file with Javascript completely hangs Firefox 18.0</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

      <meta name="robots" content="noindex" />
<link rel="Top" href="https://bugzilla.mozilla.org/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=828312&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=828312">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=828312">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=828312">

<link href="data/assets/6e2950a6b430e66beb45b46958cb75b7.css?1507037554" rel="stylesheet" type="text/css">



    
<script nonce="64DFYsitFDUkhKlfASBoQaFntHa4D5qGRYGkxaFABQqboWVd" type="text/javascript" src="data/assets/f0d8f806b435d5c1c42cd109e6626548.js?1507037554"></script>

      <script nonce="64DFYsitFDUkhKlfASBoQaFntHa4D5qGRYGkxaFABQqboWVd">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"types\":[\"tracking\"],\"flags\":{\"tracking\":{\"cf_blocking_fennec\":\"---\",\"cf_tracking_firefox20\":\"+\",\"cf_tracking_firefox57\":\"---\",\"cf_status_firefox58\":\"---\",\"cf_status_firefox21\":\"wontfix\",\"cf_status_firefox19\":\"wontfix\",\"cf_status_thunderbird_esr52\":\"---\",\"cf_status_firefox18\":\"wontfix\",\"cf_tracking_firefox21\":\"+\",\"cf_status_firefox56\":\"---\",\"cf_tracking_firefox18\":\"-\",\"cf_status_firefox_esr52\":\"---\",\"cf_blocking_fx\":\"---\",\"cf_status_firefox57\":\"---\",\"cf_tracking_firefox_esr52\":\"---\",\"cf_tracking_thunderbird_esr52\":\"---\",\"cf_tracking_firefox58\":\"---\",\"cf_status_firefox20\":\"wontfix\",\"cf_tracking_firefox_relnote\":\"---\",\"cf_tracking_firefox19\":\"+\",\"cf_tracking_firefox56\":\"---\",\"cf_platform_rel\":\"---\"}},\"comments\":{\"cf_tracking_firefox58\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox57\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_relnote\":{\"?\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox56\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr52\":{\"?\":\"[Tracking Requested - why for this release]:\"}}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 828312;
  BUGZILLA.bug_title = '828312 - HTML file with Javascript completely hangs Firefox 18.0';
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="64DFYsitFDUkhKlfASBoQaFntHa4D5qGRYGkxaFABQqboWVd" type="text/javascript" src="data/assets/f45fcff1319be4ab156441393c02d012.js?1507037554"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="./search_plugin.cgi">
    <meta name="referrer" content="origin-when-crossorigin"><link rel="shortcut icon" href="extensions/BMO/web/images/favicon.ico">
<link id="shorturl" rev="canonical" href="https://bugzil.la/828312"><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="header">

  <div class="wrapper">
    <table border="0" cellspacing="0" cellpadding="0" id="titles">
    <tr>
      <td id="title">
        <a href="./" title="Home">Bugzilla@Mozilla</a>
      </td>
      <td>
      </td>
      <td id="moz_login">
          <ul class="login-links">
              <li id="moz_new_account_container_top"><a href="createaccount.cgi">New&nbsp;Account</a>
              </li>

                <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="https://bugzilla.mozilla.org/show_bug.cgi?id=828312&amp;GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>
<span id="github_mini_login_top" class="bz_default_hidden mini_login_top">
    <form method="post" action="https://bugzilla.mozilla.org/github.cgi">
      <input type="hidden" name="github_secret" value="YfP17uKTCTultSfr">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi?id=828312">
      <input type="image" src="extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>
  
  <form action="https://bugzilla.mozilla.org/show_bug.cgi?id=828312" method="POST" 
        class="mini_login bz_default_hidden "
        id="mini_login_top"
        data-qs-suffix="_top"
  >
    
    <input id="Bugzilla_login_top" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="email address"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top" 
           name="Bugzilla_password"
           type="password"
           title="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top" 
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="1507276898-ab560277dd55b70085be37c8d0a04e1c">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" 
       class="hide_mini_login_form" data-qs-suffix="_top">[x]</a>
  </form>
</li>
<li id="forgot_container_top">
  <span class="separator">| </span>
  <a id="forgot_link_top" href="https://bugzilla.mozilla.org/show_bug.cgi?id=828312&amp;GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form_top"
        class="mini_forgot bz_default_hidden">
    <label for="login_top">Login:</label>
    <input type="text" name="loginname" size="20" id="login_top">
    <input id="forgot_button_top" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1507276898-c7c079a1bea7798a04d22b107ff91371">
    <a href="#" class="hide_forgot_form" data-qs-suffix="_top">[x]</a>
  </form>
</li>
          </ul>
      </td>
      <td id="moz_tab">
        <a href="https://www.mozilla.org/" title="Mozilla - Home of the Mozilla Project">
          <img src="images/tabzilla.png" border="0" height="42" width="154"></a>
      </td>
    </tr>
    </table>

    
<ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form quicksearch_form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
      class='quicksearch_check_empty'>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch"
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search"
           id="find_top"></form>
    [<a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">help</a>]
  </li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>


</ul>

  </div>
</div> 

<div id="bugzilla-body">


<div id="message">If you think a bug might affect users in the 57 release, please <a href="https://wiki.mozilla.org/Bugmasters/Marking_bugs_for_the_Firefox_57_release">set the correct tracking and status flags for Release Management</a>.</div><div id="xhr-error" style="display:none"></div>
<div id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent"
>

  
    <div class=" container">
      <div id="field-value-bug_id">
        <a id="this-bug" href="show_bug.cgi?id=828312">Bug 828312</a>
      </div>
    </div>

  
</div><div class="field indent edit-hide"
>

  
    <div class=" container">
      <h1 id="field-value-short_desc">HTML file with Javascript completely hangs Firefox 18.0</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-alias">
        ---
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-short_desc">
            HTML file with Javascript completely hangs Firefox 18.0

        </span>
    </div>

  
</div>

    <div class="field indent edit-hide" id="field-status_summary"
>

  
    <div class="value">
        <span id="field-value-status_summary">
      <b>RESOLVED
        FIXED
      </b>
        in mozilla30
        </span>
    </div>

  
</div>
  </div>

  

  <div id="mode-container">
    <div>
    </div>
    <div class="button-row">
      <div class="dropdown">
        <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="Actions Menu"
          aria-expanded="false" aria-controls="action-menu" class="dropdown-button minor">&#9662;</button>
        <ul class="dropdown-content" id="action-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
          </li>
          <li role="presentation">
            <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
          </li>
          <li class="dropdown-separator" role="presentation">
            <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
          </li>
          <li class="dropdown-separator" role="presentation">
            <a id="action-last-comment" role="menuitem" tabindex="-1">Last Comment</a>
          </li>
          <li role="presentation">
            <a id="action-history" role="menuitem" tabindex="-1">History</a>
          </li>
        </ul>
      </div>
    </div>
    <div id="user-guide">
      <a title="User guide for Bugzilla" href="https://wiki.mozilla.org/BMO/UserGuide">Get help with this page</a>
    </div>
  </div>
  </div>
</section>



<section class="module" id="module-status"
>
    <header id="module-status-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Status section"
           data-label-collapsed="Expand Status section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-status-content"
             aria-expanded="true"
             aria-labeledby="module-status-title"
             aria-describedby="module-status-subtitle"></div>
        <h2 class="module-title" id="module-status-title">Status</h2>
          <h3 class="module-subtitle" id="module-status-subtitle">
            (<span id="readable-bug-status" data-readable-bug-status="{&quot;cf_blocking_fennec&quot;:&quot;---&quot;,&quot;priority&quot;:&quot;--&quot;,&quot;cf_tracking_firefox20&quot;:&quot;+&quot;,&quot;cf_tracking_firefox57&quot;:&quot;---&quot;,&quot;status&quot;:&quot;RESOLVED&quot;,&quot;cf_status_firefox58&quot;:&quot;---&quot;,&quot;cf_status_firefox21&quot;:&quot;wontfix&quot;,&quot;cf_status_firefox19&quot;:&quot;wontfix&quot;,&quot;cf_status_thunderbird_esr52&quot;:&quot;---&quot;,&quot;keywords&quot;:[&quot;hang&quot;,&quot;regression&quot;],&quot;cf_status_firefox18&quot;:&quot;wontfix&quot;,&quot;cf_tracking_firefox21&quot;:&quot;+&quot;,&quot;id&quot;:&quot;828312&quot;,&quot;cf_status_firefox56&quot;:&quot;---&quot;,&quot;cf_tracking_firefox18&quot;:&quot;-&quot;,&quot;cf_status_firefox_esr52&quot;:&quot;---&quot;,&quot;flags&quot;:[],&quot;dupe_of&quot;:null,&quot;cf_blocking_fx&quot;:&quot;---&quot;,&quot;cf_status_firefox57&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr52&quot;:&quot;---&quot;,&quot;cf_tracking_thunderbird_esr52&quot;:&quot;---&quot;,&quot;cf_tracking_firefox58&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_relnote&quot;:&quot;---&quot;,&quot;cf_status_firefox20&quot;:&quot;wontfix&quot;,&quot;resolution&quot;:&quot;FIXED&quot;,&quot;cf_tracking_firefox19&quot;:&quot;+&quot;,&quot;target_milestone&quot;:&quot;mozilla30&quot;,&quot;cf_tracking_firefox56&quot;:&quot;---&quot;,&quot;cf_platform_rel&quot;:&quot;---&quot;}"></span>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-status-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="describecomponents.cgi?product=Core" id="product-help-link" class="help">Product:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-product">
      <span aria-owns="product-name product-latch">
        <span role="button" aria-label="show product information" aria-expanded="false" tabindex="0"
              class="spin-latch" id="product-latch" data-latch="product" data-for="product">&#9656;</span>
        <div title="show product information" tabindex="0" class="spin-toggle"
             id="product-name" data-latch="product" data-for="product">Core
        </div>
        <div id="product-info" style="display:none">Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the <a href="https://bugzilla.mozilla.org/editproducts.cgi?action=edit&amp;product=Firefox">Firefox</a> product. (<a href="https://wiki.mozilla.org/Modules/All#Core">More info</a>)
        </div>
      </span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="describecomponents.cgi?product=Core&component=CSS%20Parsing%20and%20Computation#CSS%20Parsing%20and%20Computation" id="component-help-link" class="help">Component:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-component">
      <span aria-owns="component-name component-latch">
        <span role="button" aria-label="show component description" aria-expanded="false" tabindex="0"
              class="spin-latch" id="component-latch" data-latch="component" data-for="component">&#9656;</span>
        <div title="show component information" tabindex="0" class="spin-toggle" id="component-name"
             data-latch="#component-latch" data-for="component">CSS Parsing and Computation
        </div>
        <div id="component-info" style="display:none">
          <div>Bugs in the handling of CSS stylesheets and the computation of style from CSS stylesheets and HTML attributes.
<p>For bugs in the rendering, see the Layout components.</p></div>
          <a href="buglist.cgi?component=CSS%20Parsing%20and%20Computation&amp;product=Core&amp;bug_status=__open__" target="_blank">Other Bugs</a>
        </div>
      </span>
        </span>
    </div>

  
</div>

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="-help-link" class="help">
        <label for="priority">Importance:
        </label>
        </a>
    </div>

  
    <div class=" container"><div class="field inline" id="field-priority"
>

  
    <div class="value">
        <span id="field-value-priority">
            --

        </span>
    </div>

  
</div><div class="field indent inline" id="field-bug_severity"
>

  
    <div class="value">
        <span id="field-value-bug_severity">
            critical

        </span>
    </div>

  
</div>
    </div>

  
</div>

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">
        <label for="bug_status">Status:
        </label>
        </a>
    </div>

  
    <div class=" container">
        <span id="field-value-status-view">RESOLVED
        FIXED
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-creation_ts"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#creation_ts" id="creation_ts-help-link" class="help">Reported:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-creation_ts"><span class="rel-time" title="2013-01-09 06:39 PST" data-time="1357742345">5 years ago</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-delta_ts"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#delta_ts" id="delta_ts-help-link" class="help">Modified:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-delta_ts"><span class="rel-time" title="2016-10-06 16:10 PDT" data-time="1475795448">a year ago</span>
        </span>
    </div>

  
</div>
</div>

  <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>

  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>

  
    <div class="value">
        <span id="field-value-bug_status">
            RESOLVED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>

  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
    <div id="assigned-container" style="display:none">
      <button type="button" class="minor" id="mark-as-assigned-btn">
        Mark as Assigned
      </button>
    </div>
        </span>
    </div>

  
</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: Robert Prins, Assigned: dbaron)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_459995" ><a class="email " href="user_profile?user_id=459995" > <span class="fna">Robert Prins</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field" id="field-triage_owner"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-triage_owner">
            <div class="vcard vcard_384647" ><a class="email " href="user_profile?user_id=384647" > <span class="fna">Jet Villegas (:jet)</span></a>
</div>

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>

  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="20">20 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (Blocks: 2 bugs, {hang, regression})
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field" id="field-version"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-version">
            18 Branch

        </span>
    </div>

  
</div>

    <div class="field" id="field-target_milestone"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Target:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-target_milestone">
            mozilla30

        </span>
    </div>

  
</div>

    <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">
        <label for="rep_platform">Platform:
        </label>
        </a>
    </div>

  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>

  
    <div class="value">
        <span id="field-value-rep_platform">
            All

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>

  
    <div class="value">
        <span id="field-value-op_sys">
            All

        </span>
    </div>

  
</div><div class="field indent inline"
>

  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>

    <div class="field" id="field-keywords"
>
    <div class="name">
        <a href="describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-keywords">hang, regression
        </span>
    </div>

  
</div>
<div class="field edit-show" id="field-cf_fx_iteration" style="display:none"
>
    <div class="name">Iteration:
    </div>

  
    <div class="value">
        <span id="field-value-cf_fx_iteration">
            ---

        </span>
    </div>

  
</div>
<div class="field" id="field-cf_fx_points"
>
    <div class="name">Points:
    </div>

  
    <div class="value">
        <span id="field-value-cf_fx_points">
            ---

        </span>
    </div>

  
</div>

</div><div class="fields-rhs">

    <div class="field" id="field-dependson"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-dependson">
            <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Layout problem on certain site since landing of Bug 828312"
   href="show_bug.cgi?id=871338">871338</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - make ElementRestyler::Restyle traverse tree through continuations"
   href="show_bug.cgi?id=898333">898333</a>

        </span>
    </div>

  
</div>

    <div class="field" id="field-blocked"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-blocked">
            <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - CSS :hover styling not being removed when pointer leaves target element"
   href="show_bug.cgi?id=895810">895810</a>, <a class="bz_bug_link 
          bz_status_ASSIGNED "
   title="ASSIGNED - don't make a RestyleSelf call for each continuation (and similar inReParentStyleContext)"
   href="show_bug.cgi?id=918064">918064</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Changing the transform on an element spends 1/3 of the time in style recomputation and comparison"
   href="show_bug.cgi?id=779968">779968</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: Can't sticky position individual continuations&quot; with rtl, wrapping"
   href="show_bug.cgi?id=918994">918994</a>

        </span>
    </div>

  
</div>
<div class="field edit-hide"
>
    <div class="name">
    </div>

  
    <div class=" container">
        Dependency <a href="showdependencytree.cgi?id=828312&amp;hide_resolved=1">tree</a>
        / <a href="showdependencygraph.cgi?id=828312">graph</a>
    </div>

  
</div>

    

    <div class="field edit-show" id="field-bug_flags" style="display:none"
>
    <div class="name">Bug Flags:
    </div>

  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="This flag used to ask the accessibility team to look over a bug. Typically used if a bug has the potential to affect accessibility, regresses accessibility, and/or is a new user facing feature." for="flag_type-835">a11y&#8209;review</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-835-dirty">
      <select id="flag_type-835" name="flag_type-835"
        title="This flag used to ask the accessibility team to look over a bug. Typically used if a bug has the potential to affect accessibility, regresses accessibility, and/or is a new user facing feature."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Bugs in Core components that affect (and will improve) web compatibility

? - Needs prioritization
+ - Is a high-priority compatibility/interop bug or feature request
- - Is either a low-priority compatibility/interop bug or feature request, meaning it should be treated as a regular bug or feature request. OR not considered to be a compat issue." for="flag_type-916">webcompat</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-916-dirty">
      <select id="flag_type-916" name="flag_type-916"
        title="Bugs in Core components that affect (and will improve) web compatibility

? - Needs prioritization
+ - Is a high-priority compatibility/interop bug or feature request
- - Is either a low-priority compatibility/interop bug or feature request, meaning it should be treated as a regular bug or feature request. OR not considered to be a compat issue."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag tracking inclusion in the desktop Firefox product backlog." for="flag_type-846">firefox&#8209;backlog</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-846-dirty">
      <select id="flag_type-846" name="flag_type-846"
        title="Flag tracking inclusion in the desktop Firefox product backlog."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Used to ask the security team to look over a feature or bug." for="flag_type-791">sec&#8209;review</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-791-dirty">
      <select id="flag_type-791" name="flag_type-791"
        title="Used to ask the security team to look over a feature or bug."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-791-container" style="display:none"><input
    name="requestee_type-791"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-791" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag_type-803">sec&#8209;bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-803-dirty">
      <select id="flag_type-803" name="flag_type-803"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag_type-913">sec&#8209;bounty&#8209;hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-913-dirty">
      <select id="flag_type-913" name="flag_type-913"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-787">in&#8209;qa&#8209;testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-787-dirty">
      <select id="flag_type-787" name="flag_type-787"
        title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-787-container" style="display:none"><input
    name="requestee_type-787"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-787" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-37">in&#8209;testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-37-dirty">
      <select id="flag_type-37" name="flag_type-37"
        title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="QA verification tracking." for="flag_type-864">qe&#8209;verify</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-864-dirty">
      <select id="flag_type-864" name="flag_type-864"
        title="QA verification tracking."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>
  </div>
</section>


  
<section class="module" id="module-firefox-tracking-flags"
>
    <header id="module-firefox-tracking-flags-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Firefox Tracking Flags section"
           data-label-collapsed="Expand Firefox Tracking Flags section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-firefox-tracking-flags-content"
             aria-expanded="false"
             aria-labeledby="module-firefox-tracking-flags-title"
             aria-describedby="module-firefox-tracking-flags-subtitle"></div>
        <h2 class="module-title" id="module-firefox-tracking-flags-title">Firefox Tracking Flags</h2>
          <h3 class="module-subtitle" id="module-firefox-tracking-flags-subtitle">
            (firefox18- wontfix, firefox19+ wontfix, firefox20+ wontfix, firefox21+ wontfix)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-firefox-tracking-flags-content" style="display:none"
  ><div class="fields-lhs">


        <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Tracking Flags:
        </a>
    </div>

  
    <div class=" container"><div class="flags edit-hide">
    <table class="layout-table tracking-flags">
        <tr>
          <th></th>
          <th>Tracking</th>
          <th>Status</th>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox18</td>
            <td class="tracking-flag-tracking">-</td>
          <td class="tracking-flag-status">wontfix</td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox19</td>
            <td class="tracking-flag-tracking">+</td>
          <td class="tracking-flag-status">wontfix</td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox20</td>
            <td class="tracking-flag-tracking">+</td>
          <td class="tracking-flag-status">wontfix</td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox21</td>
            <td class="tracking-flag-tracking">+</td>
          <td class="tracking-flag-status">wontfix</td>
        </tr>
    </table>
  </div>


<div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <th></th>
        <th>Tracking</th>
        <th>Status</th>
      </tr>
      <tr>
        <td class="tracking-flag-name">platform-rel</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_platform_rel-dirty">
  <select id="cf_platform_rel" name="cf_platform_rel">
        <option value="---"
          id="v2875_cf_platform_rel" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox18</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox18-dirty">
  <select id="cf_tracking_firefox18" name="cf_tracking_firefox18">
        <option value="-"
          id="v250_cf_tracking_firefox18" selected
        >-
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox18-dirty">
  <select id="cf_status_firefox18" name="cf_status_firefox18">
        <option value="wontfix"
          id="v255_cf_status_firefox18" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox19</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox19-dirty">
  <select id="cf_tracking_firefox19" name="cf_tracking_firefox19">
        <option value="+"
          id="v261_cf_tracking_firefox19" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox19-dirty">
  <select id="cf_status_firefox19" name="cf_status_firefox19">
        <option value="wontfix"
          id="v267_cf_status_firefox19" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox20</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox20-dirty">
  <select id="cf_tracking_firefox20" name="cf_tracking_firefox20">
        <option value="+"
          id="v273_cf_tracking_firefox20" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox20-dirty">
  <select id="cf_status_firefox20" name="cf_status_firefox20">
        <option value="wontfix"
          id="v280_cf_status_firefox20" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox21</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox21-dirty">
  <select id="cf_tracking_firefox21" name="cf_tracking_firefox21">
        <option value="+"
          id="v286_cf_tracking_firefox21" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox21-dirty">
  <select id="cf_status_firefox21" name="cf_status_firefox21">
        <option value="wontfix"
          id="v293_cf_status_firefox21" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">blocking-fx</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_blocking_fx-dirty">
  <select id="cf_blocking_fx" name="cf_blocking_fx">
        <option value="---"
          id="v505_cf_blocking_fx" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">relnote-firefox</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_relnote-dirty">
  <select id="cf_tracking_firefox_relnote" name="cf_tracking_firefox_relnote">
        <option value="---"
          id="v539_cf_tracking_firefox_relnote" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">fennec</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_blocking_fennec-dirty">
  <select id="cf_blocking_fennec" name="cf_blocking_fennec">
        <option value="---"
          id="v655_cf_blocking_fennec" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr52</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr52-dirty">
  <select id="cf_tracking_thunderbird_esr52" name="cf_tracking_thunderbird_esr52">
        <option value="---"
          id="v3065_cf_tracking_thunderbird_esr52" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr52-dirty">
  <select id="cf_status_thunderbird_esr52" name="cf_status_thunderbird_esr52">
        <option value="---"
          id="v3087_cf_status_thunderbird_esr52" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr52</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr52-dirty">
  <select id="cf_tracking_firefox_esr52" name="cf_tracking_firefox_esr52">
        <option value="---"
          id="v3103_cf_tracking_firefox_esr52" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr52-dirty">
  <select id="cf_status_firefox_esr52" name="cf_status_firefox_esr52">
        <option value="---"
          id="v3132_cf_status_firefox_esr52" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox56</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox56-dirty">
  <select id="cf_tracking_firefox56" name="cf_tracking_firefox56">
        <option value="---"
          id="v3271_cf_tracking_firefox56" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox56-dirty">
  <select id="cf_status_firefox56" name="cf_status_firefox56">
        <option value="---"
          id="v3276_cf_status_firefox56" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox57</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox57-dirty">
  <select id="cf_tracking_firefox57" name="cf_tracking_firefox57">
        <option value="---"
          id="v3286_cf_tracking_firefox57" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox57-dirty">
  <select id="cf_status_firefox57" name="cf_status_firefox57">
        <option value="---"
          id="v3291_cf_status_firefox57" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox58</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox58-dirty">
  <select id="cf_tracking_firefox58" name="cf_tracking_firefox58">
        <option value="---"
          id="v3451_cf_tracking_firefox58" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox58-dirty">
  <select id="cf_status_firefox58" name="cf_status_firefox58">
        <option value="---"
          id="v3441_cf_status_firefox58" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>
</div><div class="fields-rhs">


</div>
  </div>
</section>



<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (Whiteboard: [leave open])
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field" id="field-status_whiteboard"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-status_whiteboard">[leave open]
        </span>
    </div>

  
</div>

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="-help-link" class="help">Votes:
        </a>
    </div>

  
    <div class=" container">1
        vote
    </div>

  
</div>

    <div class="field edit-show" id="field-cf_qa_whiteboard" style="display:none"
>
    <div class="name">QA Whiteboard:
    </div>

  
    <div class="value">
        <span id="field-value-cf_qa_whiteboard">
        ---
        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_has_regression_range" style="display:none"
>
    <div class="name">Has Regression Range:
    </div>

  
    <div class="value">
        <span id="field-value-cf_has_regression_range">
            ---

        </span>
    </div>

  
</div><div class="field edit-show" id="field-cf_has_str" style="display:none"
>
    <div class="name">Has STR:
    </div>

  
    <div class="value">
        <span id="field-value-cf_has_str">
            ---

        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field edit-show" id="field-bug_file_loc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-bug_file_loc"><a href="" target="_blank"
     rel="noreferrer" title=""
     class="bug-url" data-safe="0"
  ></a>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-see_also" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-see_also">
        ---
        </span>
    </div>

  
</div>
</div>

  <div class="field edit-show" id="field-cf_crash_signature" style="display:none"
>
    <div class="name">Crash Signature:
    </div>

  
    <div class="value">
        <span id="field-value-cf_crash_signature">
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (16 attachments, 12 obsolete attachments)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="layout-table" id="attachments">
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=699785">lift.pli.html - auto generated file that causes crash (OK up to FF 17.0.1)</a>
        </div>
        <div>
            <a href="#c0" class="attach-time activity-ref"><span class="rel-time" title="2013-01-09 06:39 PST" data-time="1357742345">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_459995" ><a class="email " href="user_profile?user_id=459995" > <span class="fna">Robert Prins</span></a>
</div></span>
        </div>
        <div class="attach-info">1015.56 KB,
          text/html        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=699785&amp;action=edit">Details</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=699846">windbg log (nightly21.0a1)</a>
        </div>
        <div>
            <a href="#c3" class="attach-time activity-ref"><span class="rel-time" title="2013-01-09 08:24 PST" data-time="1357748644">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_293623" ><a class="email " href="user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div></span>
        </div>
        <div class="attach-info">110.21 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=699846&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=738003">, patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.</a>
        </div>
        <div>
            <a href="#c17" class="attach-time activity-ref"><span class="rel-time" title="2013-04-16 08:04 PDT" data-time="1366124679">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">1.53 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c57"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1366124679"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=738003&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=738003&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=738003">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=738004">patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow.</a>
        </div>
        <div>
            <a href="#c18" class="attach-time activity-ref"><span class="rel-time" title="2013-04-16 08:05 PDT" data-time="1366124713">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">3.49 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c24"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1366124713"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=738004&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=738004&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=738004">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=738005">patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.</a>
        </div>
        <div>
            <a href="#c19" class="attach-time activity-ref"><span class="rel-time" title="2013-04-16 08:05 PDT" data-time="1366124727">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">4.35 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c25"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1366124727"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=738005&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=738005&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=738005">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=738006">patch 4:  Remove unused nsIPresShell::StyleChangeReflow.</a>
        </div>
        <div>
            <a href="#c20" class="attach-time activity-ref"><span class="rel-time" title="2013-04-16 08:05 PDT" data-time="1366124741">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">3.91 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c26"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1366124741"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=738006&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=738006&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=738006">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=738007">patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.</a>
        </div>
        <div>
            <a href="#c21" class="attach-time activity-ref"><span class="rel-time" title="2013-04-16 08:05 PDT" data-time="1366124754">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">1.66 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c29"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1366124754"
            >
              review-</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=738007&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=738007&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=738007">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=738008">patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.</a>
        </div>
        <div>
            <a href="#c22" class="attach-time activity-ref"><span class="rel-time" title="2013-04-16 08:06 PDT" data-time="1366124772">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">3.58 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c28"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1366124772"
            >
              review-</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=738008&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=738008&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=738008">Splinter Review</a>
    </tr>
    <tr class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=747188">simplified testcase for regression from patch 3</a>
        </div>
        <div>
            <a href="#c33" class="attach-time activity-ref"><span class="rel-time" title="2013-05-08 16:20 PDT" data-time="1368055242">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">904 bytes,
          text/html        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=747188&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=747289">patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.</a>
        </div>
        <div>
            <a href="#c34" class="attach-time activity-ref"><span class="rel-time" title="2013-05-08 23:12 PDT" data-time="1368079931">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">5.33 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=747289&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=747289&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=747289">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=747290">patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.</a>
        </div>
        <div>
            <a href="#c35" class="attach-time activity-ref"><span class="rel-time" title="2013-05-08 23:12 PDT" data-time="1368079938">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">5.33 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=747290&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=747290&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=747290">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=747577">patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets.</a>
        </div>
        <div>
            <a href="#c40" class="attach-time activity-ref"><span class="rel-time" title="2013-05-09 13:35 PDT" data-time="1368131753">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">3.43 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c58"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1368131753"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=747577&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=747577&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=747577">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=747578">patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.</a>
        </div>
        <div>
            <a href="#c41" class="attach-time activity-ref"><span class="rel-time" title="2013-05-09 13:36 PDT" data-time="1368131771">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">5.59 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=747578&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=747578&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=747578">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=747747">patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.</a>
        </div>
        <div>
            <a href="#c43" class="attach-time activity-ref"><span class="rel-time" title="2013-05-09 20:07 PDT" data-time="1368155241">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">7.37 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c59"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1368155241"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=747747&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=747747&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=747747">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=747785">patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange.</a>
        </div>
        <div>
            <a href="#c48" class="attach-time activity-ref"><span class="rel-time" title="2013-05-09 22:24 PDT" data-time="1368163454">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">2.53 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c60"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1368163454"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=747785&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=747785&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=747785">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=747786">patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.</a>
        </div>
        <div>
            <a href="#c49" class="attach-time activity-ref"><span class="rel-time" title="2013-05-09 22:24 PDT" data-time="1368163464">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">1.50 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c61"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1368163464"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=747786&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=747786&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=747786">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=747787">patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.</a>
        </div>
        <div>
            <a href="#c50" class="attach-time activity-ref"><span class="rel-time" title="2013-05-09 22:24 PDT" data-time="1368163480">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">10.77 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c62"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1368163480"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=747787&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=747787&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=747787">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=747788">patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow.</a>
        </div>
        <div>
            <a href="#c51" class="attach-time activity-ref"><span class="rel-time" title="2013-05-09 22:24 PDT" data-time="1368163499">5 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">1.30 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c63"
                  class="flag-name-status rel-time-title activity-ref"
                  title="5 years ago"
              data-time="1368163499"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=747788&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=747788&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=747788">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=806304">patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global.</a>
        </div>
        <div>
            <a href="#c77" class="attach-time activity-ref"><span class="rel-time" title="2013-09-17 15:49 PDT" data-time="1379458185">4 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">1.88 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c84"
                  class="flag-name-status rel-time-title activity-ref"
                  title="4 years ago"
              data-time="1379458185"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=806304&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=806304&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=806304">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=806305">patch 6:  Make early transform handling only check continuations.</a>
        </div>
        <div>
            <a href="#c78" class="attach-time activity-ref"><span class="rel-time" title="2013-09-17 15:49 PDT" data-time="1379458196">4 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">3.66 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c85"
                  class="flag-name-status rel-time-title activity-ref"
                  title="4 years ago"
              data-time="1379458196"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=806305&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=806305&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=806305">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=806306">patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling.</a>
        </div>
        <div>
            <a href="#c79" class="attach-time activity-ref"><span class="rel-time" title="2013-09-17 15:50 PDT" data-time="1379458208">4 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">1.52 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c86"
                  class="flag-name-status rel-time-title activity-ref"
                  title="4 years ago"
              data-time="1379458208"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=806306&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=806306&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=806306">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=806307">patch 8:  Make handling of UpdateEffects hint check continuations.</a>
        </div>
        <div>
            <a href="#c80" class="attach-time activity-ref"><span class="rel-time" title="2013-09-17 15:50 PDT" data-time="1379458221">4 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">1.53 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c87"
                  class="flag-name-status rel-time-title activity-ref"
                  title="4 years ago"
              data-time="1379458221"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=806307&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=806307&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=806307">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=806308">patch 9:  Make handling of RecomputePosition hint check continuations.</a>
        </div>
        <div>
            <a href="#c81" class="attach-time activity-ref"><span class="rel-time" title="2013-09-17 15:50 PDT" data-time="1379458234">4 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">10.06 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c88"
                  class="flag-name-status rel-time-title activity-ref"
                  title="4 years ago"
              data-time="1379458234"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=806308&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=806308&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=806308">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=806309">patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations.</a>
        </div>
        <div>
            <a href="#c82" class="attach-time activity-ref"><span class="rel-time" title="2013-09-17 15:50 PDT" data-time="1379458247">4 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">2.10 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c89"
                  class="flag-name-status rel-time-title activity-ref"
                  title="4 years ago"
              data-time="1379458247"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=806309&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=806309&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=806309">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=806310">patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work.</a>
        </div>
        <div>
            <a href="#c83" class="attach-time activity-ref"><span class="rel-time" title="2013-09-17 15:51 PDT" data-time="1379458260">4 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">10.17 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c90"
                  class="flag-name-status rel-time-title activity-ref"
                  title="4 years ago"
              data-time="1379458260"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=806310&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=806310&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=806310">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=809553">patch 9a:  Make sticky positioning handle block-in-inline splits correctly.</a>
        </div>
        <div>
            <a href="#c93" class="attach-time activity-ref"><span class="rel-time" title="2013-09-24 17:07 PDT" data-time="1380067645">4 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">20.79 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=809553&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=809553&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=809553">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=809554">patch 9b:  Make handling of RecomputePosition hint check continuations.</a>
        </div>
        <div>
            <a href="#c94" class="attach-time activity-ref"><span class="rel-time" title="2013-09-24 17:07 PDT" data-time="1380067659">4 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">3.84 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_20209" ><span class="fn">bz</span>
</div>:
              <a href="#c96"
                  class="flag-name-status rel-time-title activity-ref"
                  title="4 years ago"
              data-time="1380067659"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=809554&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=809554&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=809554">Splinter Review</a>
    </tr>
    <tr class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=809634">patch 9a:  Make sticky positioning handle block-in-inline splits correctly.</a>
        </div>
        <div>
            <a href="#c99" class="attach-time activity-ref"><span class="rel-time" title="2013-09-24 20:56 PDT" data-time="1380081418">4 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_3881" ><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div></span>
        </div>
        <div class="attach-info">20.79 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_278074" ><span class="fn">dholbert</span>
</div>:
              <a href="#c100"
                  class="flag-name-status rel-time-title activity-ref"
                  title="4 years ago"
              data-time="1380081418"
            >
              review+</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=809634&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=809634&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=828312&attachment=809634">Splinter Review</a>
    </tr>
</table>

<div id="attachments-actions">
    <button type="button" id="attachments-obsolete-btn" class="minor">Show Obsolete Attachments</button>
</div>
  </div>
</section>



<script nonce="64DFYsitFDUkhKlfASBoQaFntHa4D5qGRYGkxaFABQqboWVd">
  init_module_visibility();
</script>






<div id="comment-actions">
    <button type="button" id="bottom-btn" class="minor">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" arai-haspopup="true" aria-label="Tags Menu"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content" style="display:none">
      <li class="dropdown-separator" role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" arai-haspopup="true" aria-label="View Menu"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">View &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content" style="display:none">
      <li class="dropdown-separator" role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li class="dropdown-separator" role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
      <li role="presentation">
        <a id="view-toggle-cc" role="menuitem" tabindex="-1">Show CC Changes</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="6979436" data-no="0">
    
    <table class="layout-table change-head reporter" id="ch-0">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_459995" ><img src="https://secure.gravatar.com/avatar/de14456fb759903ea98e564f9d51bc71?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_459995" ><a class="email " href="user_profile?user_id=459995" > <span class="fna">Robert Prins</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-0">-</button>
        </td>
      </tr>

      <tr id="cr-0" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-09 06:39 PST" data-time="1357742345">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-0">Created <span class=""><a href="attachment.cgi?id=699785" name="attach_699785" title="lift.pli.html - auto generated file that causes crash (OK up to FF 17.0.1)">attachment 699785</a> <a href="attachment.cgi?id=699785&amp;action=edit" title="lift.pli.html - auto generated file that causes crash (OK up to FF 17.0.1)">[details]</a></span>
lift.pli.html - auto generated file that causes crash (OK up to FF 17.0.1)

User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:18.0) Gecko/20100101 Firefox/18.0
Build ID: 20130104151925

Steps to reproduce:

I try to open a generated HTML file, that has opened OK in Firefox since at least version 3.x


Actual results:

Firefox hangs and it's CPU usage immediately goes to 100% (or in my case 12.5% on an 8-core CPU). This happens both in safe mode, and with all extensions enabled.

When FF is already open, the unscaled text is on occasion visible, when FF is not open and the file is double-clicked, FF will open, and the tab will show &quot;Connecting&quot;, until FF is terminated with the Taskmanager.

System: W7-64 Pro (fully up to date)

FF Info:
  Application Basics

        Name
        Firefox

        Version
        18.0

        User Agent
        Mozilla/5.0 (Windows NT 6.1; WOW64; rv:18.0) Gecko/20100101 Firefox/18.0

        Build Configuration

          about:buildconfig

  Extensions

        Name

        Version

        Enabled

        ID

        Adblock Plus
        2.2.1
        true
        {d10d0bf8-f5b5-c8b4-a8b2-2b9879e08c5d}

        British English Dictionary
        1.19.1
        true
        <a href="mailto:en-GB&#64;dictionaries.addons.mozilla.org">en-GB&#64;dictionaries.addons.mozilla.org</a>

        CheckPlaces
        2.6.2
        true
        <a href="mailto:checkplaces&#64;andyhalford.com">checkplaces&#64;andyhalford.com</a>

        Classic Toolbar Buttons
        1.1.8
        true
        CSTBB&#64;NArisT2_Noia4dev

        DownloadHelper
        4.9.12
        true
        {b9db16a4-6edc-47ec-a1f4-b86292ed211d}

        Firebug
        1.11.1
        true
        <a href="mailto:firebug&#64;software.joehewitt.com">firebug&#64;software.joehewitt.com</a>

        Go Parent Folder
        2.7
        true
        goParentFolder&#64;alice

        Html Validator
        0.9.5.1
        true
        {3b56bcc7-54e5-44a2-9b44-66c3ef58c13e}

        Lietuvių kalbos rašybos tikrinimo žodynas
        1.2.1.20101118
        true
        <a href="mailto:lt&#64;dictionaries.addons.mozilla.org">lt&#64;dictionaries.addons.mozilla.org</a>

        NewTabURL
        2.2.3
        true
        <a href="mailto:newtaburl&#64;sogame.cat">newtaburl&#64;sogame.cat</a>

        Nightly Tester Tools
        3.3
        true
        {8620c15f-30dc-4dba-a131-7c5d20cf4a29}

        NoScript
        2.6.4.2
        true
        {73a6fe31-595d-460b-a920-fcc0f8843232}

        NoSquint
        2.1.6
        true
        <a href="mailto:nosquint&#64;urandom.ca">nosquint&#64;urandom.ca</a>

        Reload Tab On Double-Click
        1.2.1
        true
        {aede9b05-c23c-479b-a90e-9146ed62d377}

        Show Parent Folder
        2.0
        true
        showParentFolder&#64;alice

        Status-4-Evar
        2012.07.08.17
        true
        <a href="mailto:status4evar&#64;caligonstudios.com">status4evar&#64;caligonstudios.com</a>

        Woordenboek Nederlands
        3.1.0
        true
        <a href="mailto:nl-NL&#64;dictionaries.addons.mozilla.org">nl-NL&#64;dictionaries.addons.mozilla.org</a>

        Xmarks
        4.1.3
        true
        <a href="mailto:foxmarks&#64;kei.com">foxmarks&#64;kei.com</a>

  Important Modified Preferences

      Name

      Value

        accessibility.typeaheadfind.flashBar
        0

        browser.cache.disk.capacity
        1048576

        browser.cache.disk.smart_size.first_run
        false

        browser.cache.disk.smart_size_cached_value
        1048576

        browser.display.background_color
        #C0C0C0

        browser.display.use_system_colors
        true

        browser.history_expire_days.mirror
        5

        browser.history_expire_days_min
        10

        browser.places.createdSmartBookmarks
        true

        browser.places.importBookmarksHTML
        false

        browser.places.importDefaults
        false

        browser.places.leftPaneFolderId
        -1

        browser.places.migratePostDataAnnotations
        false

        browser.places.smartBookmarksVersion
        4

        browser.places.updateRecentTagsUri
        false

        browser.privatebrowsing.dont_prompt_on_enter
        true

        browser.search.openintab
        true

        browser.startup.homepage
        <a rel="nofollow" href="https://www.google.com/">https://www.google.com/</a>

        browser.startup.homepage_override.buildID
        20130104151925

        browser.startup.homepage_override.mstone
        18.0

        browser.tabs.insertRelatedAfterCurrent
        false

        browser.tabs.loadFolderAndReplace
        false

        browser.tabs.onTop
        false

        browser.tabs.tabMinWidth
        50

        browser.tabs.warnOnClose
        false

        browser.urlbar.filter.javascript
        false

        browser.urlbar.hideGoButton
        true

        browser.urlbar.maxRichResults
        0

        browser.urlbar.trimURLs
        false

        browser.zoom.siteSpecific
        false

        dom.disable_window_move_resize
        true

        dom.event.contextmenu.enabled
        false

        extensions.checkCompatibility
        true

        extensions.checkCompatibility.3.6
        true

        extensions.checkCompatibility.3.6b
        true

        extensions.checkCompatibility.3.6p
        true

        extensions.checkCompatibility.3.6pre
        true

        extensions.checkCompatibility.3.7a
        true

        extensions.checkCompatibility.4.0
        true

        extensions.checkCompatibility.4.0b
        true

        extensions.checkCompatibility.4.0p
        true

        extensions.checkCompatibility.4.0pre
        true

        extensions.checkCompatibility.4.2
        true

        extensions.checkCompatibility.4.2a
        true

        extensions.checkCompatibility.4.2a1
        true

        extensions.checkCompatibility.4.2a1pre
        true

        extensions.checkCompatibility.4.2b
        true

        extensions.checkCompatibility.5.0
        true

        extensions.checkCompatibility.5.0a
        true

        extensions.checkCompatibility.5.0b
        true

        extensions.checkCompatibility.6.0
        true

        extensions.checkCompatibility.6.0a
        true

        extensions.checkCompatibility.6.0b
        true

        extensions.checkCompatibility.7.0
        true

        extensions.checkCompatibility.7.0a
        true

        extensions.checkCompatibility.7.0b
        true

        extensions.checkCompatibility.nightly
        true

        extensions.lastAppVersion
        18.0

        font.internaluseonly.changed
        false

        gfx.direct3d.prefer_10_1
        true

        mousewheel.withcontrolkey.action
        3

        network.cookie.blockFutureCookies
        false

        network.cookie.prefsMigrated
        true

        network.http.max-connections
        64

        network.http.max-persistent-connections-per-server
        8

        network.http.proxy.version
        1.0

        network.image.imageBehavior
        0

        network.protocol-handler.warn-external.itms
        false

        places.database.lastMaintenance
        1357521768

        places.history.expiration.transient_current_max_pages
        104858

        places.history.expiration.transient_optimal_database_size
        167772160

        places.last_vacuum
        1295669622

        plugin.disable_full_page_plugin_for_types
        video/mpeg

        plugin.expose_full_path
        true

        privacy.clearOnShutdown.cookies
        false

        privacy.clearOnShutdown.downloads
        false

        privacy.clearOnShutdown.sessions
        false

        privacy.cpd.cookies
        false

        privacy.cpd.formdata
        false

        privacy.cpd.sessions
        false

        privacy.donottrackheader.enabled
        true

        privacy.sanitize.migrateFx3Prefs
        true

        privacy.sanitize.promptOnSanitize
        false

        privacy.sanitize.sanitizeOnShutdown
        true

        privacy.sanitize.timeSpan
        0

        security.enable_tls
        false

        security.warn_viewing_mixed
        false

  Graphics

        Adapter Description
        NVIDIA GeForce GT 520

        Adapter Drivers
        nvd3dumx,nvwgf2umx,nvwgf2umx nvd3dum,nvwgf2um,nvwgf2um

        Adapter RAM
        1023

        ClearType Parameters
        Gamma: 2200 Pixel Structure: RGB ClearType Level: 50 Enhanced Contrast: 50

        Device ID
        0x1040

        Direct2D Enabled
        true

        DirectWrite Enabled
        true (6.1.7601.17789)

        Driver Date
        10-2-2012

        Driver Version
        9.18.13.697

        GPU #2 Active
        false

        GPU Accelerated Windows
        1/1 Direct3D 10

        Vendor ID
        0x10de

        WebGL Renderer
        Google Inc. -- ANGLE (NVIDIA GeForce GT 520 )

        AzureCanvasBackend
        direct2d

        AzureContentBackend
        direct2d

        AzureFallbackCanvasBackend
        cairo

  JavaScript

        Incremental GC
        true

  Accessibility

        Activated
        false

        Prevent Accessibility
        0

  Library Versions

        Expected minimum version

        Version in use

        NSPR
        4.9.4
        4.9.4

        NSS
        3.14.1.0 Basic ECC
        3.14.1.0 Basic ECC

        NSSSMIME
        3.14.1.0 Basic ECC
        3.14.1.0 Basic ECC

        NSSSSL
        3.14.1.0 Basic ECC
        3.14.1.0 Basic ECC

        NSSUTIL
        3.14.1.0
        3.14.1.0


Expected results:

The file should open normally, although there may be some delay due to the Javascript resizing and generation of sequence numbers.</pre></div><div class="change-set" id="a118_459995"><div class="change" id="aa118_459995">
    <table class="layout-table change-head reporter">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_459995" id="a118_459995"><img src="https://secure.gravatar.com/avatar/de14456fb759903ea98e564f9d51bc71?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_459995" id="a118_459995"><a class="email " href="user_profile?user_id=459995" > <span class="fna">Robert Prins</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a118_459995">-</button>
        </td>
      </tr>
      <tr id="ar-a118_459995">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a118_459995">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-09 06:41 PST" data-time="1357742463">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Severity: normal &rarr; major</div><div class="change cc-only" style="display:none">CC: robert</div></div></div><div class="change-set" id="a1413_337567"><div class="change" id="aa1413_337567">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_337567" id="a1413_337567"><img src="https://secure.gravatar.com/avatar/2428b7c7c861741c7f1f60033a9bb0f0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_337567" id="a1413_337567"><a class="email " href="user_profile?user_id=337567" > <span class="fna">Loic</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a1413_337567">-</button>
        </td>
      </tr>
      <tr id="ar-a1413_337567">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a1413_337567">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-09 07:02 PST" data-time="1357743758">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=699785&amp;action=edit"
           title="lift.pli.html - auto generated file that causes crash (OK up to FF 17.0.1)"
           class=""
        >Attachment #699785</a> -
        Attachment mime type: text/plain &rarr; text/html</div></div></div><div class="change-set" id="c1"><div class="comment" data-id="6979657" data-no="1">
    
    <table class="layout-table change-head " id="ch-1">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_337567" id="a1413_337567"><img src="https://secure.gravatar.com/avatar/2428b7c7c861741c7f1f60033a9bb0f0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_337567" id="a1413_337567"><a class="email " href="user_profile?user_id=337567" > <span class="fna">Loic</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-1">-</button>
        </td>
      </tr>

      <tr id="cr-1" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-09 07:20 PST" data-time="1357744836">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-1">Confirmed, FF18 hangs (25% of my CPU) and is not able to respond during the page is loading, must be killed.
In FF17-, Firefox hangs just 3 or 4 sec, but is able to display the page (and stays smooth).

Rgression range:

m-c
good=2012-09-07
bad=2012-09-08
<a rel="nofollow" href="http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=36427d4b2cf6&amp;tochange=1d4fc0c60063">http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=36427d4b2cf6&amp;tochange=1d4fc0c60063</a></pre><div class="activity"><div class="change">Status: UNCONFIRMED &rarr; NEW</div><div class="change cc-only" style="display:none">CC: epinal99-bugzilla</div><div class="change">status-firefox18: --- &rarr; affected</div><div class="change">tracking-firefox18: --- &rarr; ?</div><div class="change">tracking-firefox19: --- &rarr; ?</div><div class="change">tracking-firefox20: --- &rarr; ?</div><div class="change">tracking-firefox21: --- &rarr; ?</div><div class="change">Ever confirmed: true</div><div class="change">Keywords: regression, regressionwindow-wanted</div></div></div><div class="change-set" id="c2"><div class="comment" data-id="6979928" data-no="2">
    
    <table class="layout-table change-head " id="ch-2">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_14534" id="a1413_337567"><img src="https://secure.gravatar.com/avatar/e5f97d33683797ab997351993a109030?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_14534" id="a1413_337567"><a class="email " href="user_profile?user_id=14534" > <span class="fna">Matthias Versen [:Matti]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-2">-</button>
        </td>
      </tr>

      <tr id="cr-2" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-09 07:54 PST" data-time="1357746878">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-2">I got the same regression range as result and will bisect now.</pre><div class="activity cc-only" style="display:none"><div class="change">CC: bugzilla</div></div></div><div class="change-set" id="a6138_386758"><div class="change" id="aa6138_386758">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_386758" id="a6138_386758"><img src="https://secure.gravatar.com/avatar/43a258096978fdc5ca10d5b423b0c178?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_386758" id="a6138_386758"><a class="email " href="user_profile?user_id=386758" > <span class="fna">Scoobidiver (away)</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a6138_386758">-</button>
        </td>
      </tr>
      <tr id="ar-a6138_386758">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a6138_386758">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-09 08:21 PST" data-time="1357748483">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Severity: major &rarr; critical</div><div class="change cc-only" style="display:none">CC: scoobidiver</div><div class="change">Keywords: hang</div></div></div><div class="change-set" id="c3"><div class="comment" data-id="6980103" data-no="3">
    
    <table class="layout-table change-head " id="ch-3">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a6138_386758"><img src="https://secure.gravatar.com/avatar/84a471377672984b156be0ee5880ff50?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_293623" id="a6138_386758"><a class="email " href="user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-3">-</button>
        </td>
      </tr>

      <tr id="cr-3" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-09 08:24 PST" data-time="1357748644">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-3">Created <span class=""><a href="attachment.cgi?id=699846" name="attach_699846" title="windbg log (nightly21.0a1)">attachment 699846</a> <a href="attachment.cgi?id=699846&amp;action=edit" title="windbg log (nightly21.0a1)">[details]</a></span>
windbg log (nightly21.0a1)


I can reproduce the problem.
<a rel="nofollow" href="http://hg.mozilla.org/mozilla-central/rev/7bce868864bf">http://hg.mozilla.org/mozilla-central/rev/7bce868864bf</a>
Mozilla/5.0 (Windows NT 6.1; WOW64; rv:21.0) Gecko/20130109 Firefox/21.0 ID:20130109030942

Regression window(cached m-i)
Good:
<a rel="nofollow" href="http://hg.mozilla.org/integration/mozilla-inbound/rev/8c83c4ea731a">http://hg.mozilla.org/integration/mozilla-inbound/rev/8c83c4ea731a</a>
Mozilla/5.0 (Windows NT 6.1; WOW64; rv:18.0) Gecko/18.0 Firefox/18.0 ID:20120907100120
Bad:
<a rel="nofollow" href="http://hg.mozilla.org/integration/mozilla-inbound/rev/e6396a6c27e3">http://hg.mozilla.org/integration/mozilla-inbound/rev/e6396a6c27e3</a>
Mozilla/5.0 (Windows NT 6.1; WOW64; rv:18.0) Gecko/18.0 Firefox/18.0 ID:20120907101516
Pushlog:
<a rel="nofollow" href="http://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=8c83c4ea731a&amp;tochange=e6396a6c27e3">http://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=8c83c4ea731a&amp;tochange=e6396a6c27e3</a></pre></div><div class="change-set" id="a6481_14534"><div class="change" id="aa6481_14534">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_14534" id="a6481_14534"><img src="https://secure.gravatar.com/avatar/e5f97d33683797ab997351993a109030?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_14534" id="a6481_14534"><a class="email " href="user_profile?user_id=14534" > <span class="fna">Matthias Versen [:Matti]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a6481_14534">-</button>
        </td>
      </tr>
      <tr id="ar-a6481_14534">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a6481_14534">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-09 08:27 PST" data-time="1357748826">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Changing the transform on an element spends 1/3 of the time in style recomputation and comparison"
   href="show_bug.cgi?id=779968">779968</a></div><div class="change cc-only" style="display:none">CC: dbaron</div><div class="change">Component: Untriaged &rarr; Style System (CSS)</div><div class="change">Keywords: <span class="activity-deleted">regressionwindow-wanted</span></div><div class="change">Product: Firefox &rarr; Core</div></div></div><div class="change-set cc-only" id="a31127_437905" style="display:none"><div class="change" id="aa31127_437905">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_437905" id="a31127_437905"><img src="https://secure.gravatar.com/avatar/601e9ee9539e753e73b7323dd3bbae56?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_437905" id="a31127_437905"><a class="email " href="user_profile?user_id=437905" > <span class="fna">timbugzilla</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a31127_437905">-</button>
        </td>
      </tr>
      <tr id="ar-a31127_437905">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a31127_437905">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-09 15:17 PST" data-time="1357773472">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: timbugzilla</div></div></div><div class="change-set" id="c4"><div class="comment" data-id="6983392" data-no="4">
    
    <table class="layout-table change-head " id="ch-4">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a31127_437905"><img src="https://secure.gravatar.com/avatar/84a471377672984b156be0ee5880ff50?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_293623" id="a31127_437905"><a class="email " href="user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-4">-</button>
        </td>
      </tr>

      <tr id="cr-4" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-09 22:07 PST" data-time="1357798058">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-4">In local build
Last Good: 309d87857ce0
First Bad: a080c1f6350d</pre><div class="activity cc-only" style="display:none"><div class="change">CC: alice0775</div></div></div><div class="change-set cc-only" id="a116779_104905" style="display:none"><div class="change" id="aa116779_104905">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_104905" id="a116779_104905"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_104905" id="a116779_104905"><a class="email " href="user_profile?user_id=104905" > <span class="fna">(mostly gone) XtC4UaLL [:xtc4uall]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a116779_104905">-</button>
        </td>
      </tr>
      <tr id="ar-a116779_104905">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a116779_104905">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-10 15:05 PST" data-time="1357859124">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: xtc4uall</div></div></div><div class="change-set cc-only" id="a267167_412465" style="display:none"><div class="change" id="aa267167_412465">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_412465" id="a267167_412465"><img src="https://secure.gravatar.com/avatar/fcdec38955bc2908a762b9ec2a0f3342?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_412465" id="a267167_412465"><a class="email " href="user_profile?user_id=412465" > <span class="fna">mjh563</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a267167_412465">-</button>
        </td>
      </tr>
      <tr id="ar-a267167_412465">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a267167_412465">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-12 08:51 PST" data-time="1358009512">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: mjh563</div></div></div><div class="change-set" id="c5"><div class="comment" data-id="6995977" data-no="5">
    
    <table class="layout-table change-head " id="ch-5">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_425645" id="a267167_412465"><img src="https://secure.gravatar.com/avatar/d9271460835283f326bd5d01d9a44c07?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_425645" id="a267167_412465"><a class="email disabled" href="user_profile?user_id=425645" > <span class="fna">Alex Keybl [:akeybl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-5">-</button>
        </td>
      </tr>

      <tr id="cr-5" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-13 13:41 PST" data-time="1358113273">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-5">dbaron - what's your general feel on the severity of this bug? Unless we expect this testcase to be commonplace in the wild (unclear), I don't think we need to track for release.</pre><div class="activity"><div class="change">Assignee: nobody &rarr; dbaron</div><div class="change cc-only" style="display:none">CC: akeybl</div></div></div><div class="change-set" id="c6"><div class="comment" data-id="7000844" data-no="6">
    
    <table class="layout-table change-head " id="ch-6">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_425645" id="a267167_412465"><img src="https://secure.gravatar.com/avatar/d9271460835283f326bd5d01d9a44c07?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_425645" id="a267167_412465"><a class="email disabled" href="user_profile?user_id=425645" > <span class="fna">Alex Keybl [:akeybl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-6">-</button>
        </td>
      </tr>

      <tr id="cr-6" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-14 16:56 PST" data-time="1358211395">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-6">We have not seen duplicate reports of this issue, so wontfixing for FF18 and waiting till FF19 to first fix.</pre><div class="activity"><div class="change">status-firefox18: affected &rarr; wontfix</div><div class="change">status-firefox19: --- &rarr; affected</div><div class="change">status-firefox20: --- &rarr; affected</div><div class="change">status-firefox21: --- &rarr; affected</div><div class="change">tracking-firefox18: ? &rarr; -</div><div class="change">tracking-firefox19: ? &rarr; +</div><div class="change">tracking-firefox20: ? &rarr; +</div><div class="change">tracking-firefox21: ? &rarr; +</div></div></div><div class="change-set" id="c7"><div class="comment" data-id="7025493" data-no="7">
    
    <table class="layout-table change-head " id="ch-7">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_425645" id="a267167_412465"><img src="https://secure.gravatar.com/avatar/d9271460835283f326bd5d01d9a44c07?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_425645" id="a267167_412465"><a class="email disabled" href="user_profile?user_id=425645" > <span class="fna">Alex Keybl [:akeybl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-7">-</button>
        </td>
      </tr>

      <tr id="cr-7" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-22 07:10 PST" data-time="1358867438">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-7">I've pinged dbaron in email to see if we're lining up a fix, or whether this is a non-urgent issue.</pre></div><div class="change-set" id="c8"><div class="comment" data-id="7025743" data-no="8">
    
    <table class="layout-table change-head assignee" id="ch-8">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a267167_412465"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a267167_412465"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-8">-</button>
        </td>
      </tr>

      <tr id="cr-8" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-22 08:29 PST" data-time="1358872170">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-8">So so far I've found that the bit of nsFrameManager::ReResolveStyleContext that does:
      // We don't know what changes the previous continuation had, so
      // assume the worst.
      nonInheritedHints = nsChangeHint_Hints_NotHandledForDescendants;
is, I think, bogus.  But removing it doesn't fix the problem.

At this point I'm going to bisect which changeset actually caused the problem.

Also, it doesn't seem like an actual hang, just something really really slow; it looks like we're just generating &gt;11000 reflow hints, presumably across continuations, and then doing essentially a full-document reflow for each one.</pre></div><div class="change-set cc-only" id="a1129849_3881" style="display:none"><div class="change" id="aa1129849_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a1129849_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a1129849_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a1129849_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a1129849_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a1129849_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-22 08:29 PST" data-time="1358872194">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: bzbarsky</div></div></div><div class="change-set" id="c9"><div class="comment" data-id="7025791" data-no="9">
    
    <table class="layout-table change-head " id="ch-9">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a1129849_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a1129849_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-9">-</button>
        </td>
      </tr>

      <tr id="cr-9" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-22 08:40 PST" data-time="1358872838">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-9"><span class="quote">&gt; At this point I'm going to bisect which changeset actually caused the problem.</span >

Alice0775 did that already; see <a href="show_bug.cgi?id=828312#c4">comment 4</a>.  Looks like it's <a rel="nofollow" href="http://hg.mozilla.org/mozilla-central/rev/a080c1f6350d">http://hg.mozilla.org/mozilla-central/rev/a080c1f6350d</a>

Do we end up with a bunch of ib splits here or something, landing us in the providerFrame != aFrame-&gt;GetParent() case?</pre></div><div class="change-set" id="c10"><div class="comment" data-id="7026071" data-no="10">
    
    <table class="layout-table change-head assignee" id="ch-10">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a1129849_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a1129849_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-10">-</button>
        </td>
      </tr>

      <tr id="cr-10" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-01-22 09:37 PST" data-time="1358876243">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-10">(In reply to Boris Zbarsky (:bz) from <a href="show_bug.cgi?id=828312#c9">comment #9</a>)
<span class="quote">&gt; &gt; At this point I'm going to bisect which changeset actually caused the problem.
&gt; 
&gt; Alice0775 did that already; see <a href="show_bug.cgi?id=828312#c4">comment 4</a>.  Looks like it's
&gt; <a rel="nofollow" href="http://hg.mozilla.org/mozilla-central/rev/a080c1f6350d">http://hg.mozilla.org/mozilla-central/rev/a080c1f6350d</a>
&gt; 
&gt; Do we end up with a bunch of ib splits here or something, landing us in the
&gt; providerFrame != aFrame-&gt;GetParent() case?</span >

Indeed.  Commenting out this bit of that patch:
   2.132 +    if (providerFrame != aFrame-&gt;GetParent()) {
   2.133 +      // We don't actually know what the parent style context's
   2.134 +      // non-inherited hints were, so assume the worst.
   2.135 +      aParentFrameHintsNotHandledForDescendants =
   2.136 +        nsChangeHint_Hints_NotHandledForDescendants;
   2.137 +    }
makes the page load again.</pre></div><div class="change-set" id="a2251253_425645"><div class="change" id="aa2251253_425645">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_425645" id="a2251253_425645"><img src="https://secure.gravatar.com/avatar/d9271460835283f326bd5d01d9a44c07?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_425645" id="a2251253_425645"><a class="email disabled" href="user_profile?user_id=425645" > <span class="fna">Alex Keybl [:akeybl]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a2251253_425645">-</button>
        </td>
      </tr>
      <tr id="ar-a2251253_425645">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a2251253_425645">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-02-04 07:59 PST" data-time="1359993598">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">status-firefox19: affected &rarr; wontfix</div></div></div><div class="change-set" id="c11"><div class="comment" data-id="7150326" data-no="11">
    
    <table class="layout-table change-head " id="ch-11">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_272375" id="a2251253_425645"><img src="https://secure.gravatar.com/avatar/d5497c1ef1eb10029cff0fef1764e7fa?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_272375" id="a2251253_425645"><a class="email " href="user_profile?user_id=272375" > <span class="fna">Lukas Blakk [:lsblakk] use ?needinfo</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-11">-</button>
        </td>
      </tr>

      <tr id="cr-11" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-02-27 12:01 PST" data-time="1361995266">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-11">(In reply to David Baron [:dbaron] (don't cc:, use needinfo? instead) from <a href="show_bug.cgi?id=828312#c10">comment #10</a>)
<span class="quote">&gt; (In reply to Boris Zbarsky (:bz) from <a href="show_bug.cgi?id=828312#c9">comment #9</a>)
&gt; &gt; &gt; At this point I'm going to bisect which changeset actually caused the problem.
&gt; &gt; 
&gt; &gt; Alice0775 did that already; see <a href="show_bug.cgi?id=828312#c4">comment 4</a>.  Looks like it's
&gt; &gt; <a rel="nofollow" href="http://hg.mozilla.org/mozilla-central/rev/a080c1f6350d">http://hg.mozilla.org/mozilla-central/rev/a080c1f6350d</a>
&gt; &gt; 
&gt; &gt; Do we end up with a bunch of ib splits here or something, landing us in the
&gt; &gt; providerFrame != aFrame-&gt;GetParent() case?
&gt; 
&gt; Indeed.  Commenting out this bit of that patch:
&gt;    2.132 +    if (providerFrame != aFrame-&gt;GetParent()) {
&gt;    2.133 +      // We don't actually know what the parent style context's
&gt;    2.134 +      // non-inherited hints were, so assume the worst.
&gt;    2.135 +      aParentFrameHintsNotHandledForDescendants =
&gt;    2.136 +        nsChangeHint_Hints_NotHandledForDescendants;
&gt;    2.137 +    }
&gt; makes the page load again.</span >

David if you have the regressing code what's the next step here? Is this something we should still be tracking? Do we have any idea on how many users this hang might be affecting?  It looks like a minimal test case might be possible from your discovery in <a href="show_bug.cgi?id=828312#c10">comment 10</a>.</pre><div class="activity"><div class="change cc-only" style="display:none">CC: lsblakk</div><div class="change">Flags: needinfo?(dbaron)</div></div></div><div class="change-set" id="c12"><div class="comment" data-id="7176319" data-no="12">
    
    <table class="layout-table change-head assignee" id="ch-12">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a2251253_425645"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a2251253_425645"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-12">-</button>
        </td>
      </tr>

      <tr id="cr-12" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-03-06 19:36 PST" data-time="1362627388">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-12">I started to work on a bunch of patches a few weeks ago; it's not trivial.  I'll try to remember what the state is, but I got stuck on something.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(dbaron)</span></div></div></div><div class="change-set" id="a4885064_3881"><div class="change" id="aa4885064_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a4885064_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a4885064_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a4885064_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a4885064_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a4885064_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-03-06 19:36 PST" data-time="1362627409">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: needinfo?(dbaron)</div></div></div><div class="change-set" id="a5991383_272375"><div class="change" id="aa5991383_272375">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_272375" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/d5497c1ef1eb10029cff0fef1764e7fa?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_272375" id="a5991383_272375"><a class="email " href="user_profile?user_id=272375" > <span class="fna">Lukas Blakk [:lsblakk] use ?needinfo</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a5991383_272375">-</button>
        </td>
      </tr>
      <tr id="ar-a5991383_272375">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a5991383_272375">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-03-19 15:55 PDT" data-time="1363733728">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">status-firefox20: affected &rarr; wontfix</div></div></div><div class="change-set" id="c13"><div class="comment" data-id="7282636" data-no="13">
    
    <table class="layout-table change-head " id="ch-13">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_448925" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/ddad9dfd62bcea71c45271191f1e8141?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_448925" id="a5991383_272375"><a class="email " href="user_profile?user_id=448925" > <span class="fna">bhavana bajaj [:bajaj]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-13">-</button>
        </td>
      </tr>

      <tr id="cr-13" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-05 10:29 PDT" data-time="1365182983">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-13">Adding needinfo on :dbaron to help with next steps here. Do you recommend untracking this at this time ?</pre><div class="activity cc-only" style="display:none"><div class="change">CC: bbajaj</div></div></div><div class="change-set" id="c14"><div class="comment" data-id="7319683" data-no="14">
    
    <table class="layout-table change-head assignee" id="ch-14">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a5991383_272375"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-14">-</button>
        </td>
      </tr>

      <tr id="cr-14" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 04:54 PDT" data-time="1366113271">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-14">So I realized that there's another option to fixing this other than fixing the actual regression, which is to coalesce the reflows that happen for processing a single style change list.  This is probably something we should be doing anyway.</pre><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(dbaron)</span></div></div></div><div class="change-set" id="c15"><div class="comment" data-id="7319715" data-no="15">
    
    <table class="layout-table change-head assignee" id="ch-15">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a5991383_272375"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-15">-</button>
        </td>
      </tr>

      <tr id="cr-15" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 05:02 PDT" data-time="1366113771">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-15">Er, never mind, we already do that.  The actual problem here is that nsBlockFrame::ChildIsDirty is O(N) in the number of children, so marking all the children dirty is O(N^2).</pre></div><div class="change-set" id="c16"><div class="comment" data-id="7319728" data-no="16">
    
    <table class="layout-table change-head assignee" id="ch-16">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a5991383_272375"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-16">-</button>
        </td>
      </tr>

      <tr id="cr-16" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 05:07 PDT" data-time="1366114037">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-16">I tend to think that trying to maintain &quot;line is dirty&quot; state prior to reflow is probably a bad idea.  We should just mark the frames dirty in the normal way.  Then when a block's reflow starts, if the block has NS_FRAME_HAS_DIRTY_CHILDREN and not NS_FRAME_IS_DIRTY, we should do a pass over the lines to mark any lines with dirty children as dirty, with MarkLineDirty.</pre></div><div class="change-set" id="c17"><div class="comment" data-id="7320633" data-no="17">
    
    <table class="layout-table change-head assignee" id="ch-17">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a5991383_272375"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-17">-</button>
        </td>
      </tr>

      <tr id="cr-17" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 08:04 PDT" data-time="1366124679">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-17">Created <span class=""><a href="attachment.cgi?id=738003" name="attach_738003" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">attachment 738003</a> <a href="attachment.cgi?id=738003&amp;action=edit" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">[details]</a> <a href="attachment.cgi?id=738003&amp;action=diff" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738003'>[review]</a>
, patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738003&amp;action=edit"
           title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway."
           class=""
        >Attachment #738003</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c18"><div class="comment" data-id="7320638" data-no="18">
    
    <table class="layout-table change-head assignee" id="ch-18">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a5991383_272375"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-18">-</button>
        </td>
      </tr>

      <tr id="cr-18" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 08:05 PDT" data-time="1366124713">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-18">Created <span class="bz_obsolete"><a href="attachment.cgi?id=738004" name="attach_738004" title="patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow.">attachment 738004</a> <a href="attachment.cgi?id=738004&amp;action=edit" title="patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow.">[details]</a> <a href="attachment.cgi?id=738004&amp;action=diff" title="patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738004'>[review]</a>
patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738004&amp;action=edit"
           title="patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow."
           class=""
        >Attachment #738004</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c19"><div class="comment" data-id="7320639" data-no="19">
    
    <table class="layout-table change-head assignee" id="ch-19">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a5991383_272375"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-19">-</button>
        </td>
      </tr>

      <tr id="cr-19" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 08:05 PDT" data-time="1366124727">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-19">Created <span class="bz_obsolete"><a href="attachment.cgi?id=738005" name="attach_738005" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">attachment 738005</a> <a href="attachment.cgi?id=738005&amp;action=edit" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[details]</a> <a href="attachment.cgi?id=738005&amp;action=diff" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738005'>[review]</a>
patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738005&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #738005</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c20"><div class="comment" data-id="7320642" data-no="20">
    
    <table class="layout-table change-head assignee" id="ch-20">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a5991383_272375"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-20">-</button>
        </td>
      </tr>

      <tr id="cr-20" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 08:05 PDT" data-time="1366124741">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-20">Created <span class=""><a href="attachment.cgi?id=738006" name="attach_738006" title="patch 4:  Remove unused nsIPresShell::StyleChangeReflow.">attachment 738006</a> <a href="attachment.cgi?id=738006&amp;action=edit" title="patch 4:  Remove unused nsIPresShell::StyleChangeReflow.">[details]</a> <a href="attachment.cgi?id=738006&amp;action=diff" title="patch 4:  Remove unused nsIPresShell::StyleChangeReflow.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738006'>[review]</a>
patch 4:  Remove unused nsIPresShell::StyleChangeReflow.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738006&amp;action=edit"
           title="patch 4:  Remove unused nsIPresShell::StyleChangeReflow."
           class=""
        >Attachment #738006</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c21"><div class="comment" data-id="7320645" data-no="21">
    
    <table class="layout-table change-head assignee" id="ch-21">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a5991383_272375"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-21">-</button>
        </td>
      </tr>

      <tr id="cr-21" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 08:05 PDT" data-time="1366124754">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-21">Created <span class="bz_obsolete"><a href="attachment.cgi?id=738007" name="attach_738007" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">attachment 738007</a> <a href="attachment.cgi?id=738007&amp;action=edit" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">[details]</a> <a href="attachment.cgi?id=738007&amp;action=diff" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738007'>[review]</a>
patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.

The model for processing of style changes means that when a frame with
continuations has style changes, we process the style change for every
continuation.  While it may well be worth switching this to a different
model in which we only process the style change for the first
continuation and then apply it to all the continuations, that's not the
model we currently use, and we don't need to loop over continuations.

That said, this code was added in <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Splitting Absolutely positioned frames not implemented - Missing second page of content when printing or print previewing this site"
   href="show_bug.cgi?id=154892">bug 154892</a> and modified in <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Implement finer-grained reflow-on-style-change hints"
   href="show_bug.cgi?id=502288">bug 502288</a>.

TODO: Investigate those bugs more, and how we ended up in the situation
we're in.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738007&amp;action=edit"
           title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow."
           class=""
        >Attachment #738007</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c22"><div class="comment" data-id="7320647" data-no="22">
    
    <table class="layout-table change-head assignee" id="ch-22">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a5991383_272375"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-22">-</button>
        </td>
      </tr>

      <tr id="cr-22" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 08:06 PDT" data-time="1366124772">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-22">Created <span class="bz_obsolete"><a href="attachment.cgi?id=738008" name="attach_738008" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">attachment 738008</a> <a href="attachment.cgi?id=738008&amp;action=edit" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">[details]</a> <a href="attachment.cgi?id=738008&amp;action=diff" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738008'>[review]</a>
patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.

The model for processing of style changes means that when a frame with
continuations has style changes, we process the style change for every
continuation.  While it may well be worth switching this to a different
model in which we only process the style change for the first
continuation and then apply it to all the continuations, that's not the
model we currently use, and we don't need to loop over continuations.

TODO: Investigate more how we ended up in the situation we're in.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738008&amp;action=edit"
           title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree."
           class=""
        >Attachment #738008</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c23"><div class="comment" data-id="7323670" data-no="23">
    
    <table class="layout-table change-head " id="ch-23">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a5991383_272375"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a5991383_272375"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-23">-</button>
        </td>
      </tr>

      <tr id="cr-23" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 20:48 PDT" data-time="1366170511">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-23">Comment on <span class=""><a href="attachment.cgi?id=738003" name="attach_738003" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">attachment 738003</a> <a href="attachment.cgi?id=738003&amp;action=edit" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">[details]</a> <a href="attachment.cgi?id=738003&amp;action=diff" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738003'>[review]</a>
, patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.

What happens if copyFromContinuation and then newContext == oldContext?</pre></div><div class="change-set" id="c24"><div class="comment" data-id="7323672" data-no="24">
    
    <table class="layout-table change-head " id="ch-24">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a5991383_272375"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a5991383_272375"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-24">-</button>
        </td>
      </tr>

      <tr id="cr-24" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 20:49 PDT" data-time="1366170558">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-24">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=738004" name="attach_738004" title="patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow.">attachment 738004</a> <a href="attachment.cgi?id=738004&amp;action=edit" title="patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow.">[details]</a> <a href="attachment.cgi?id=738004&amp;action=diff" title="patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738004'>[review]</a>
patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738004&amp;action=edit"
           title="patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow."
           class=""
        >Attachment #738004</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c25"><div class="comment" data-id="7323678" data-no="25">
    
    <table class="layout-table change-head " id="ch-25">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a5991383_272375"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a5991383_272375"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-25">-</button>
        </td>
      </tr>

      <tr id="cr-25" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 20:53 PDT" data-time="1366170796">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-25">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=738005" name="attach_738005" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">attachment 738005</a> <a href="attachment.cgi?id=738005&amp;action=edit" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[details]</a> <a href="attachment.cgi?id=738005&amp;action=diff" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738005'>[review]</a>
patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.

<span class="quote">&gt;+        if (lineFrame-&gt;GetStateBits() &amp;
&gt;+            (NS_FRAME_IS_DIRTY | NS_FRAME_HAS_DIRTY_CHILDREN)) {</span >

Perhaps:

  if (NS_SUBTREE_DIRTY(lineFrame)) {

?

<span class="quote">&gt;+#define NS_BLOCK_LOOK_FOR_DIRTY_FRAMES      NS_FRAME_STATE_BIT(61)</span >

Why not 60?

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738005&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #738005</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c26"><div class="comment" data-id="7323680" data-no="26">
    
    <table class="layout-table change-head " id="ch-26">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a5991383_272375"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a5991383_272375"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-26">-</button>
        </td>
      </tr>

      <tr id="cr-26" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 20:53 PDT" data-time="1366170833">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-26">Comment on <span class=""><a href="attachment.cgi?id=738006" name="attach_738006" title="patch 4:  Remove unused nsIPresShell::StyleChangeReflow.">attachment 738006</a> <a href="attachment.cgi?id=738006&amp;action=edit" title="patch 4:  Remove unused nsIPresShell::StyleChangeReflow.">[details]</a> <a href="attachment.cgi?id=738006&amp;action=diff" title="patch 4:  Remove unused nsIPresShell::StyleChangeReflow.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738006'>[review]</a>
patch 4:  Remove unused nsIPresShell::StyleChangeReflow.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738006&amp;action=edit"
           title="patch 4:  Remove unused nsIPresShell::StyleChangeReflow."
           class=""
        >Attachment #738006</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c27"><div class="comment" data-id="7323682" data-no="27">
    
    <table class="layout-table change-head " id="ch-27">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a5991383_272375"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a5991383_272375"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-27">-</button>
        </td>
      </tr>

      <tr id="cr-27" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 20:57 PDT" data-time="1366171041">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-27">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=738007" name="attach_738007" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">attachment 738007</a> <a href="attachment.cgi?id=738007&amp;action=edit" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">[details]</a> <a href="attachment.cgi?id=738007&amp;action=diff" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738007'>[review]</a>
patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.

Hmm.  I guess this is right.  r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738007&amp;action=edit"
           title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow."
           class=""
        >Attachment #738007</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c28"><div class="comment" data-id="7323690" data-no="28">
    
    <table class="layout-table change-head " id="ch-28">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a5991383_272375"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a5991383_272375"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-28">-</button>
        </td>
      </tr>

      <tr id="cr-28" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 21:03 PDT" data-time="1366171419">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-28">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=738008" name="attach_738008" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">attachment 738008</a> <a href="attachment.cgi?id=738008&amp;action=edit" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">[details]</a> <a href="attachment.cgi?id=738008&amp;action=diff" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738008'>[review]</a>
patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.

<span class="quote">&gt;+          } while ((outOfFlowFrame = nsLayoutUtils::
&gt;+                      GetNextContinuationOrSpecialSibling(outOfFlowFrame)));</span >

Out-of-flows are always block-level, so should never have special siblings, right?

<span class="quote">&gt;+  // FIXME: FIX INDENT IF THIS WORKS</span >

So I thought about this some more, and it's not clear to me that the premise here is true.  What exactly applies the hint to all continuations?

In nsFrameManager::ComputeStyleChangeFor we pass the accumulated change hint as aMinChange into ReResolveStyleContext.  That's a bit weird, since this is the only callsite where aMinChange is not set to the _parent_ hint but rather to the _sibling_ hint (and hence shouldn't really have the NS_HintsNotHandledForDescendantsIn subtracted from it).  

In any case, we don't add things to the change list if they're already in aMinChange, so in fact nothing makes sure the change is processed for all continuations other than the loop here...</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738008&amp;action=edit"
           title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree."
           class=""
        >Attachment #738008</a> -
        Flags: review?(bzbarsky) &rarr; review-</div></div></div><div class="change-set" id="c29"><div class="comment" data-id="7323691" data-no="29">
    
    <table class="layout-table change-head " id="ch-29">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a5991383_272375"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a5991383_272375"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-29">-</button>
        </td>
      </tr>

      <tr id="cr-29" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-16 21:04 PDT" data-time="1366171481">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-29">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=738007" name="attach_738007" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">attachment 738007</a> <a href="attachment.cgi?id=738007&amp;action=edit" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">[details]</a> <a href="attachment.cgi?id=738007&amp;action=diff" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738007'>[review]</a>
patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.

r- for the same reason, but I agree that this means we do extra work in all sorts of cases due to the subtraction issue.  :(</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738007&amp;action=edit"
           title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow."
           class=""
        >Attachment #738007</a> -
        Flags: review+ &rarr; review-</div></div></div><div class="change-set" id="c30"><div class="comment" data-id="7324176" data-no="30">
    
    <table class="layout-table change-head assignee" id="ch-30">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a5991383_272375"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-30">-</button>
        </td>
      </tr>

      <tr id="cr-30" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-17 01:35 PDT" data-time="1366187737">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-30">(In reply to Boris Zbarsky (:bz) from <a href="show_bug.cgi?id=828312#c25">comment #25</a>)
<span class="quote">&gt; Perhaps:
&gt; 
&gt;   if (NS_SUBTREE_DIRTY(lineFrame)) {
&gt; 
&gt; ?</span >

Yes.  I forgot about that macro.

<span class="quote">&gt; &gt;+#define NS_BLOCK_LOOK_FOR_DIRTY_FRAMES      NS_FRAME_STATE_BIT(61)
&gt; 
&gt; Why not 60?</span >

I think the convention has been to use the private-space bits at the top starting from 63 and going down (to make it easier to change the boundary if we need to).


I'll look further into the major issue later.  (I need to refresh my ReResolveStyleContext memory.)  Another option might be to switch whole-hog in the other direction, i.e., make it so that we don't add change hints for continuations, and we *require* that all change hint processing apply to all same-pseudo-type continuations.</pre></div><div class="change-set" id="c31"><div class="comment" data-id="7337515" data-no="31">
    
    <table class="layout-table change-head " id="ch-31">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a5991383_272375"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a5991383_272375"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-31">-</button>
        </td>
      </tr>

      <tr id="cr-31" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-19 21:57 PDT" data-time="1366433841">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-31">Comment on <span class=""><a href="attachment.cgi?id=738003" name="attach_738003" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">attachment 738003</a> <a href="attachment.cgi?id=738003&amp;action=edit" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">[details]</a> <a href="attachment.cgi?id=738003&amp;action=diff" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738003'>[review]</a>
, patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.

r- per <a href="show_bug.cgi?id=828312#c23">comment 23</a>, I think.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738003&amp;action=edit"
           title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway."
           class=""
        >Attachment #738003</a> -
        Flags: review?(bzbarsky) &rarr; review-</div></div></div><div class="change-set" id="c32"><div class="comment" data-id="7368792" data-no="32">
    
    <table class="layout-table change-head " id="ch-32">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_448925" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/ddad9dfd62bcea71c45271191f1e8141?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_448925" id="a5991383_272375"><a class="email " href="user_profile?user_id=448925" > <span class="fna">bhavana bajaj [:bajaj]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-32">-</button>
        </td>
      </tr>

      <tr id="cr-32" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-04-29 19:59 PDT" data-time="1367290748">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-32">Marking this wontfix for Fx21 as this does not look ready in time for release and we are going to build with our second last beta tomorrow.

Please request approval for aurora(Fx22) asap if we are close to resolving the issue.</pre><div class="activity"><div class="change">status-firefox21: affected &rarr; wontfix</div></div></div><div class="change-set" id="c33"><div class="comment" data-id="7402826" data-no="33">
    
    <table class="layout-table change-head assignee" id="ch-33">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a5991383_272375"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a5991383_272375"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-33">-</button>
        </td>
      </tr>

      <tr id="cr-33" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-08 16:20 PDT" data-time="1368055242">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-33">Created <span class=""><a href="attachment.cgi?id=747188" name="attach_747188" title="simplified testcase for regression from patch 3">attachment 747188</a> <a href="attachment.cgi?id=747188&amp;action=edit" title="simplified testcase for regression from patch 3">[details]</a></span>
simplified testcase for regression from patch 3

(It's fine without the changes to nsBlockFrame::ChildIsDirty, and even
fine with the additions there but not the removals.  Doing some of the
removal is fine as long as the aLine-&gt;MarkDirty() call inside
MarkLineDirty happens.)</pre></div><div class="change-set" id="a10337573_3881"><div class="change" id="aa10337573_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10337573_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a10337573_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a10337573_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a10337573_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a10337573_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-08 23:11 PDT" data-time="1368079918">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738004&amp;action=edit"
           title="patch 2:  Return whether all lines were marked dirty from PrepareResizeReflow."
           class=""
        >Attachment #738004</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c34"><div class="comment" data-id="7403759" data-no="34">
    
    <table class="layout-table change-head assignee" id="ch-34">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10337573_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10337573_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-34">-</button>
        </td>
      </tr>

      <tr id="cr-34" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-08 23:12 PDT" data-time="1368079931">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-34">Created <span class="bz_obsolete"><a href="attachment.cgi?id=747289" name="attach_747289" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">attachment 747289</a> <a href="attachment.cgi?id=747289&amp;action=edit" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[details]</a> <a href="attachment.cgi?id=747289&amp;action=diff" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747289'>[review]</a>
patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.

TODO: This causes various layout problems on facebook, flickr, etc.
(It's fine without the changes to nsBlockFrame::ChildIsDirty, and even
fine with the additions there but not the removals.  Doing some of the
removal is fine as long as the aLine-&gt;MarkDirty() call inside
MarkLineDirty happens.)</pre></div><div class="change-set" id="c35"><div class="comment" data-id="7403760" data-no="35">
    
    <table class="layout-table change-head assignee" id="ch-35">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10337573_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10337573_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-35">-</button>
        </td>
      </tr>

      <tr id="cr-35" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-08 23:12 PDT" data-time="1368079938">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-35">Created <span class="bz_obsolete"><a href="attachment.cgi?id=747290" name="attach_747290" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">attachment 747290</a> <a href="attachment.cgi?id=747290&amp;action=edit" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[details]</a> <a href="attachment.cgi?id=747290&amp;action=diff" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747290'>[review]</a>
patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.

TODO: This causes various layout problems on facebook, flickr, etc.
(It's fine without the changes to nsBlockFrame::ChildIsDirty, and even
fine with the additions there but not the removals.  Doing some of the
removal is fine as long as the aLine-&gt;MarkDirty() call inside
MarkLineDirty happens.)</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747290&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #747290</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="a10337599_3881"><div class="change" id="aa10337599_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10337599_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a10337599_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a10337599_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a10337599_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a10337599_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-08 23:12 PDT" data-time="1368079944">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738005&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #738005</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a10337604_3881"><div class="change" id="aa10337604_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10337604_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a10337604_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a10337604_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a10337604_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a10337604_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-08 23:12 PDT" data-time="1368079949">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747289&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #747289</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c36"><div class="comment" data-id="7403767" data-no="36">
    
    <table class="layout-table change-head assignee" id="ch-36">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10337604_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10337604_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-36">-</button>
        </td>
      </tr>

      <tr id="cr-36" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-08 23:16 PDT" data-time="1368080199">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-36"><a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=876d3cb02669">https://tbpl.mozilla.org/?tree=Try&amp;rev=876d3cb02669</a>
(patches 3 and 4)</pre></div><div class="change-set" id="c37"><div class="comment" data-id="7403773" data-no="37">
    
    <table class="layout-table change-head assignee" id="ch-37">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10337604_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10337604_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-37">-</button>
        </td>
      </tr>

      <tr id="cr-37" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-08 23:18 PDT" data-time="1368080285">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-37">(In reply to David Baron [:dbaron] (don't cc:, use needinfo? instead) from <a href="show_bug.cgi?id=828312#c35">comment #35</a>)
<span class="quote">&gt; TODO: This causes various layout problems on facebook, flickr, etc.
&gt; (It's fine without the changes to nsBlockFrame::ChildIsDirty, and even
&gt; fine with the additions there but not the removals.  Doing some of the
&gt; removal is fine as long as the aLine-&gt;MarkDirty() call inside
&gt; MarkLineDirty happens.)</span >

Oops, I forgot to remove this comment; this was fixed by the bit about looking at the ancestor-or-self of the placeholder of the float that's a child of the block.</pre></div><div class="change-set" id="c38"><div class="comment" data-id="7403957" data-no="38">
    
    <table class="layout-table change-head assignee" id="ch-38">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10337604_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10337604_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-38">-</button>
        </td>
      </tr>

      <tr id="cr-38" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 01:10 PDT" data-time="1368087056">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-38">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=747290" name="attach_747290" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">attachment 747290</a> <a href="attachment.cgi?id=747290&amp;action=edit" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[details]</a> <a href="attachment.cgi?id=747290&amp;action=diff" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747290'>[review]</a>
patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.

Actually, never mind, still a reftest failure and a crashtest failure.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747290&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #747290</a> -
        Flags: <span class="activity-deleted">review?(bzbarsky)</span></div></div></div><div class="change-set cc-only" id="a10358261_402729" style="display:none"><div class="change" id="aa10358261_402729">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_402729" id="a10358261_402729"><img src="https://secure.gravatar.com/avatar/de3506247095c2739760cbe8f0ab05a1?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_402729" id="a10358261_402729"><a class="email " href="user_profile?user_id=402729" > <span class="fna">xunxun</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a10358261_402729">-</button>
        </td>
      </tr>
      <tr id="ar-a10358261_402729">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a10358261_402729">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 04:56 PDT" data-time="1368100606">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: xunxun1982</div></div></div><div class="change-set" id="c39"><div class="comment" data-id="7406670" data-no="39">
    
    <table class="layout-table change-head assignee" id="ch-39">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10358261_402729"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10358261_402729"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-39">-</button>
        </td>
      </tr>

      <tr id="cr-39" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 13:35 PDT" data-time="1368131711">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-39">Revised patches, though it wouldn't surprise me if the tests discover something else that triggers the new assertion I added:
<a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=e5ac20f65f69">https://tbpl.mozilla.org/?tree=Try&amp;rev=e5ac20f65f69</a></pre></div><div class="change-set" id="c40"><div class="comment" data-id="7406672" data-no="40">
    
    <table class="layout-table change-head assignee" id="ch-40">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10358261_402729"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10358261_402729"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-40">-</button>
        </td>
      </tr>

      <tr id="cr-40" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 13:35 PDT" data-time="1368131753">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-40">Created <span class=""><a href="attachment.cgi?id=747577" name="attach_747577" title="patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets.">attachment 747577</a> <a href="attachment.cgi?id=747577&amp;action=edit" title="patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets.">[details]</a> <a href="attachment.cgi?id=747577&amp;action=diff" title="patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747577'>[review]</a>
patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets.

The change to mark NS_FRAME_IS_DIRTY on the bullets fixes a failure in
layout/reftests/bugs/418574-1.html exposed by patch 3.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747577&amp;action=edit"
           title="patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets."
           class=""
        >Attachment #747577</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c41"><div class="comment" data-id="7406673" data-no="41">
    
    <table class="layout-table change-head assignee" id="ch-41">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10358261_402729"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10358261_402729"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-41">-</button>
        </td>
      </tr>

      <tr id="cr-41" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 13:36 PDT" data-time="1368131771">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-41">Created <span class="bz_obsolete"><a href="attachment.cgi?id=747578" name="attach_747578" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">attachment 747578</a> <a href="attachment.cgi?id=747578&amp;action=edit" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[details]</a> <a href="attachment.cgi?id=747578&amp;action=diff" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747578'>[review]</a>
patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747578&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #747578</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="a10389432_3881"><div class="change" id="aa10389432_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10389432_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a10389432_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a10389432_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a10389432_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a10389432_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 13:36 PDT" data-time="1368131777">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747290&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #747290</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c42"><div class="comment" data-id="7407636" data-no="42">
    
    <table class="layout-table change-head assignee" id="ch-42">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10389432_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10389432_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-42">-</button>
        </td>
      </tr>

      <tr id="cr-42" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 17:36 PDT" data-time="1368146192">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-42">New try run, with one more null-check and one crashtest manifest assertion count reduction:
<a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=6c49edac69fd">https://tbpl.mozilla.org/?tree=Try&amp;rev=6c49edac69fd</a></pre></div><div class="change-set" id="c43"><div class="comment" data-id="7407905" data-no="43">
    
    <table class="layout-table change-head assignee" id="ch-43">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10389432_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10389432_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-43">-</button>
        </td>
      </tr>

      <tr id="cr-43" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 20:07 PDT" data-time="1368155241">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-43">Created <span class=""><a href="attachment.cgi?id=747747" name="attach_747747" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">attachment 747747</a> <a href="attachment.cgi?id=747747&amp;action=edit" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[details]</a> <a href="attachment.cgi?id=747747&amp;action=diff" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747747'>[review]</a>
patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.

The assertion count reduction from 12 to 8 in
layout/generic/crashtests/798020-1.html is the removal of the 4
###!!! ASSERTION: math on NS_UNCONSTRAINEDSIZE: 'NS_UNCONSTRAINEDSIZE != aState.mReflowState.mComputedBorderPadding.left &amp;&amp; NS_UNCONSTRAINEDSIZE != aState.mReflowState.ComputedWidth()'
in nsBlockFrame::PrepareResizeReflow by avoiding calling
nsBlockFrame::PrepareResizeReflow.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747747&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #747747</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="a10412902_3881"><div class="change" id="aa10412902_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10412902_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a10412902_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a10412902_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a10412902_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a10412902_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 20:07 PDT" data-time="1368155247">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747578&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #747578</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="attachment.cgi?id=747578&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #747578</a> -
        Flags: <span class="activity-deleted">review?(bzbarsky)</span></div></div></div><div class="change-set" id="c44"><div class="comment" data-id="7407908" data-no="44">
    
    <table class="layout-table change-head assignee" id="ch-44">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10412902_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10412902_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-44">-</button>
        </td>
      </tr>

      <tr id="cr-44" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 20:08 PDT" data-time="1368155315">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-44">Looks all green now, finally.</pre></div><div class="change-set" id="c45"><div class="comment" data-id="7407937" data-no="45">
    
    <table class="layout-table change-head assignee" id="ch-45">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10412902_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10412902_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-45">-</button>
        </td>
      </tr>

      <tr id="cr-45" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 20:31 PDT" data-time="1368156675">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-45">(In reply to Boris Zbarsky (:bz) from <a href="show_bug.cgi?id=828312#c28">comment #28</a>)
<span class="quote">&gt; In nsFrameManager::ComputeStyleChangeFor we pass the accumulated change hint
&gt; as aMinChange into ReResolveStyleContext.  That's a bit weird, since this is
&gt; the only callsite where aMinChange is not set to the _parent_ hint but
&gt; rather to the _sibling_ hint (and hence shouldn't really have the
&gt; NS_HintsNotHandledForDescendantsIn subtracted from it).  </span >

Interesting.  That's weird, and it's inconsistent with the way we'll handle continuations that aren't at the top level of what we're re-resolving (which I'd think is by far the more common case). I think we should just fix that.

<span class="quote">&gt; In any case, we don't add things to the change list if they're already in
&gt; aMinChange, so in fact nothing makes sure the change is processed for all
&gt; continuations other than the loop here...</span >

In this unusual case, where the continuations are continuations of the top-level frame getting the style change, indeed.


Then again, I think in the long term it would be better to go in the opposite direction, and make continuations not post change hints at all -- though the profiles I've seen make me think it wouldn't be that big a difference since all we'd gain is the CalcDifference time and the overhead around change hint processing, and not anything in nsRuleNode::Compute*Data.  Maybe it's not that hard, but I also don't feel like tackling it now.  I suppose I should make a followup bug for it, though.</pre></div><div class="change-set" id="c46"><div class="comment" data-id="7407995" data-no="46">
    
    <table class="layout-table change-head " id="ch-46">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a10412902_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a10412902_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-46">-</button>
        </td>
      </tr>

      <tr id="cr-46" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 20:46 PDT" data-time="1368157616">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-46"><span class="quote">&gt; I think we should just fix that.</span >

Seems reasonable to me.

Followup makes sense.</pre></div><div class="change-set" id="c47"><div class="comment" data-id="7408131" data-no="47">
    
    <table class="layout-table change-head assignee" id="ch-47">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10412902_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10412902_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-47">-</button>
        </td>
      </tr>

      <tr id="cr-47" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c47">Comment 47</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 22:12 PDT" data-time="1368162733">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-47">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-47">And the full patch series with the patch 4.5 fixing that seems green:
<a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=ffd64c7ae35f">https://tbpl.mozilla.org/?tree=Try&amp;rev=ffd64c7ae35f</a></pre></div><div class="change-set" id="c48"><div class="comment" data-id="7408138" data-no="48">
    
    <table class="layout-table change-head assignee" id="ch-48">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10412902_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10412902_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-48">-</button>
        </td>
      </tr>

      <tr id="cr-48" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c48">Comment 48</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 22:24 PDT" data-time="1368163454">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-48">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-48">Created <span class=""><a href="attachment.cgi?id=747785" name="attach_747785" title="patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange.">attachment 747785</a> <a href="attachment.cgi?id=747785&amp;action=edit" title="patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange.">[details]</a> <a href="attachment.cgi?id=747785&amp;action=diff" title="patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747785'>[review]</a>
patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747785&amp;action=edit"
           title="patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange."
           class=""
        >Attachment #747785</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c49"><div class="comment" data-id="7408140" data-no="49">
    
    <table class="layout-table change-head assignee" id="ch-49">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10412902_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10412902_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-49">-</button>
        </td>
      </tr>

      <tr id="cr-49" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c49">Comment 49</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 22:24 PDT" data-time="1368163464">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-49">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-49">Created <span class="bz_obsolete"><a href="attachment.cgi?id=747786" name="attach_747786" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">attachment 747786</a> <a href="attachment.cgi?id=747786&amp;action=edit" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">[details]</a> <a href="attachment.cgi?id=747786&amp;action=diff" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747786'>[review]</a>
patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.

The model for processing of style changes means that when a frame with
continuations has style changes, we process the style change for every
continuation.  While it may well be worth switching this to a different
model in which we only process the style change for the first
continuation and then apply it to all the continuations, that's not the
model we currently use, and we don't need to loop over continuations.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747786&amp;action=edit"
           title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow."
           class=""
        >Attachment #747786</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="a10421125_3881"><div class="change" id="aa10421125_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10421125_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a10421125_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a10421125_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a10421125_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a10421125_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 22:24 PDT" data-time="1368163470">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738007&amp;action=edit"
           title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow."
           class=""
        >Attachment #738007</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c50"><div class="comment" data-id="7408141" data-no="50">
    
    <table class="layout-table change-head assignee" id="ch-50">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10421125_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10421125_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-50">-</button>
        </td>
      </tr>

      <tr id="cr-50" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c50">Comment 50</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 22:24 PDT" data-time="1368163480">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-50">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-50">Created <span class="bz_obsolete"><a href="attachment.cgi?id=747787" name="attach_747787" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">attachment 747787</a> <a href="attachment.cgi?id=747787&amp;action=edit" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">[details]</a> <a href="attachment.cgi?id=747787&amp;action=diff" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747787'>[review]</a>
patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.

The model for processing of style changes means that when a frame with
continuations has style changes, we process the style change for every
continuation.  While it may well be worth switching this to a different
model in which we only process the style change for the first
continuation and then apply it to all the continuations, that's not the
model we currently use, and we don't need to loop over continuations.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747787&amp;action=edit"
           title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree."
           class=""
        >Attachment #747787</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="a10421143_3881"><div class="change" id="aa10421143_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10421143_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a10421143_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a10421143_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a10421143_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a10421143_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 22:24 PDT" data-time="1368163488">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738008&amp;action=edit"
           title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree."
           class=""
        >Attachment #738008</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c51"><div class="comment" data-id="7408144" data-no="51">
    
    <table class="layout-table change-head assignee" id="ch-51">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10421143_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10421143_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-51">-</button>
        </td>
      </tr>

      <tr id="cr-51" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c51">Comment 51</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 22:24 PDT" data-time="1368163499">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-51">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-51">Created <span class="bz_obsolete"><a href="attachment.cgi?id=747788" name="attach_747788" title="patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow.">attachment 747788</a> <a href="attachment.cgi?id=747788&amp;action=edit" title="patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow.">[details]</a> <a href="attachment.cgi?id=747788&amp;action=diff" title="patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747788'>[review]</a>
patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747788&amp;action=edit"
           title="patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow."
           class=""
        >Attachment #747788</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c52"><div class="comment" data-id="7408185" data-no="52">
    
    <table class="layout-table change-head assignee" id="ch-52">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10421143_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10421143_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-52">-</button>
        </td>
      </tr>

      <tr id="cr-52" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c52">Comment 52</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 22:44 PDT" data-time="1368164691">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-52">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-52">Comment on <span class=""><a href="attachment.cgi?id=738003" name="attach_738003" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">attachment 738003</a> <a href="attachment.cgi?id=738003&amp;action=edit" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">[details]</a> <a href="attachment.cgi?id=738003&amp;action=diff" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738003'>[review]</a>
, patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.

(In reply to Boris Zbarsky (:bz) from <a href="show_bug.cgi?id=828312#c23">comment #23</a>)
<span class="quote">&gt; What happens if copyFromContinuation and then newContext == oldContext?</span >

I guess I don't follow the question.  nonInheritedHints is for change hints on this style context that don't apply automatically to child style contexts, and therefore require us to check for them on child style contexts.

If newContext == oldContext, then nonInheritedHints should be 0 because we had no change hints, just as for all the other ways we get the new style context other than copying it from the prev continuation.

So re-requesting review.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738003&amp;action=edit"
           title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway."
           class=""
        >Attachment #738003</a> -
        Flags: review- &rarr; review?(bzbarsky)</div></div></div><div class="change-set" id="c53"><div class="comment" data-id="7408190" data-no="53">
    
    <table class="layout-table change-head assignee" id="ch-53">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10421143_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10421143_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-53">-</button>
        </td>
      </tr>

      <tr id="cr-53" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c53">Comment 53</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 22:48 PDT" data-time="1368164887">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-53">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-53">And another try run with all patches (including 1 and 7, which the previous didn't have):
<a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=b82bd75824db">https://tbpl.mozilla.org/?tree=Try&amp;rev=b82bd75824db</a></pre></div><div class="change-set" id="c54"><div class="comment" data-id="7408244" data-no="54">
    
    <table class="layout-table change-head " id="ch-54">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a10421143_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a10421143_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-54">-</button>
        </td>
      </tr>

      <tr id="cr-54" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c54">Comment 54</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-09 23:22 PDT" data-time="1368166921">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-54">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-54"><span class="quote">&gt; If newContext == oldContext, then nonInheritedHints should be 0 because we had no change
&gt; hints</span >

What about cases when we had explicit change hints already in the restyle tracker, even though we still have the same style context?  I guess that can't happen for later continuations, though.

Can we assert if we ever end up on this codepath but pass a nonzero parent hint to our kids?</pre></div><div class="change-set" id="c55"><div class="comment" data-id="7408327" data-no="55">
    
    <table class="layout-table change-head assignee" id="ch-55">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10421143_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10421143_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-55">-</button>
        </td>
      </tr>

      <tr id="cr-55" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c55">Comment 55</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-10 00:04 PDT" data-time="1368169476">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-55">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-55">(In reply to Boris Zbarsky (:bz) from <a href="show_bug.cgi?id=828312#c54">comment #54</a>)
<span class="quote">&gt; &gt; If newContext == oldContext, then nonInheritedHints should be 0 because we had no change
&gt; &gt; hints
&gt; 
&gt; What about cases when we had explicit change hints already in the restyle
&gt; tracker, even though we still have the same style context?  I guess that
&gt; can't happen for later continuations, though.</span >

Hmmm.  That seems like a problem with patches 5, 6, and 7, though I don't see what the concern about patch 1 is.

<span class="quote">&gt; Can we assert if we ever end up on this codepath but pass a nonzero parent
&gt; hint to our kids?</span >

&quot;this codepath&quot; being &quot;newContext == oldContext&quot;?  I suppose so, though it almost seems silly to bother.  (Also, at some point I might want to improve the cases where we fall back to nsChangeHint_Hints_NotHandledForDescendants because we don't have the parent's data anymore, which could make that assertion harder to keep around.)</pre></div><div class="change-set" id="c56"><div class="comment" data-id="7409212" data-no="56">
    
    <table class="layout-table change-head " id="ch-56">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a10421143_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a10421143_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-56">-</button>
        </td>
      </tr>

      <tr id="cr-56" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c56">Comment 56</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-10 06:32 PDT" data-time="1368192739">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-56">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-56"><span class="quote">&gt; &quot;this codepath&quot; being &quot;newContext == oldContext&quot;</span >

Well, in general that can pass a nonzero hint if we had a hint in the restyle tracker, no?

I meant the &quot;newContext == oldContext and were not the first continuation&quot; case....</pre></div><div class="change-set" id="c57"><div class="comment" data-id="7411161" data-no="57">
    
    <table class="layout-table change-head " id="ch-57">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a10421143_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a10421143_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-57">-</button>
        </td>
      </tr>

      <tr id="cr-57" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c57">Comment 57</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-10 13:27 PDT" data-time="1368217666">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-57">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-57">Comment on <span class=""><a href="attachment.cgi?id=738003" name="attach_738003" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">attachment 738003</a> <a href="attachment.cgi?id=738003&amp;action=edit" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">[details]</a> <a href="attachment.cgi?id=738003&amp;action=diff" title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=738003'>[review]</a>
, patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=738003&amp;action=edit"
           title=", patch 1:  Remove unneeded assignment to nonInheritedHints, which is not needed because we will do difference computation on the style context in this codepath anyway."
           class=""
        >Attachment #738003</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c58"><div class="comment" data-id="7411185" data-no="58">
    
    <table class="layout-table change-head " id="ch-58">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a10421143_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a10421143_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-58">-</button>
        </td>
      </tr>

      <tr id="cr-58" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c58">Comment 58</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-10 13:30 PDT" data-time="1368217835">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-58">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-58">Comment on <span class=""><a href="attachment.cgi?id=747577" name="attach_747577" title="patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets.">attachment 747577</a> <a href="attachment.cgi?id=747577&amp;action=edit" title="patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets.">[details]</a> <a href="attachment.cgi?id=747577&amp;action=diff" title="patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747577'>[review]</a>
patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747577&amp;action=edit"
           title="patch 2:  Make list renumbering code set NS_FRAME_HAS_DIRTY_CHILDREN correctly on intermediate blocks and inlines, and NS_FRAME_IS_DIRTY correctly on the bullets."
           class=""
        >Attachment #747577</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c59"><div class="comment" data-id="7411232" data-no="59">
    
    <table class="layout-table change-head " id="ch-59">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a10421143_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a10421143_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-59">-</button>
        </td>
      </tr>

      <tr id="cr-59" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c59">Comment 59</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-10 13:39 PDT" data-time="1368218342">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-59">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-59">Comment on <span class=""><a href="attachment.cgi?id=747747" name="attach_747747" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">attachment 747747</a> <a href="attachment.cgi?id=747747&amp;action=edit" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[details]</a> <a href="attachment.cgi?id=747747&amp;action=diff" title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747747'>[review]</a>
patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines.

<span class="quote">&gt;+    // and, and mark it as NS_FRAME_HAS_DIRTY_CHILDREN too, so that we</span >

s/and, and/and/

<span class="quote">&gt;+          nsIFrame *parentFC =
&gt;+            placeholderPathFC-&gt;GetParent()-&gt;GetFirstContinuation();
&gt;+          if (parentFC == thisFC) {</span >

Can we optimize by checking placeholderPathFC-&gt;GetParent()-&gt;mContent == mContent before we get the first-continuation of placeholderPathFC-&gt;GetParent(), which might entail walking along a long inline continuation chain...

In fact, why do we need to walk to placeholderPath-&gt;GetFirstContinuation() to start with?  Seems like we could walk up till we get to something with the right mContent and _then_ worry about first continuations and maybe walking up more.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747747&amp;action=edit"
           title="patch 3:  Wait to mark lines dirty until we're in reflow, to avoid O(N^2) behavior as a result of looking for lines."
           class=""
        >Attachment #747747</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c60"><div class="comment" data-id="7411244" data-no="60">
    
    <table class="layout-table change-head " id="ch-60">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a10421143_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a10421143_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-60">-</button>
        </td>
      </tr>

      <tr id="cr-60" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c60">Comment 60</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-10 13:40 PDT" data-time="1368218446">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-60">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-60">Comment on <span class=""><a href="attachment.cgi?id=747785" name="attach_747785" title="patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange.">attachment 747785</a> <a href="attachment.cgi?id=747785&amp;action=edit" title="patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange.">[details]</a> <a href="attachment.cgi?id=747785&amp;action=diff" title="patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747785'>[review]</a>
patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747785&amp;action=edit"
           title="patch 4.5:  Pass the same aMinChange to the top level of a ReResolveStyleContext that we would for the recursive calls, rather than including previous continutaions in aMinChange."
           class=""
        >Attachment #747785</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c61"><div class="comment" data-id="7411246" data-no="61">
    
    <table class="layout-table change-head " id="ch-61">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a10421143_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a10421143_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-61">-</button>
        </td>
      </tr>

      <tr id="cr-61" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c61">Comment 61</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-10 13:41 PDT" data-time="1368218487">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-61">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-61">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=747786" name="attach_747786" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">attachment 747786</a> <a href="attachment.cgi?id=747786&amp;action=edit" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">[details]</a> <a href="attachment.cgi?id=747786&amp;action=diff" title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747786'>[review]</a>
patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747786&amp;action=edit"
           title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow."
           class=""
        >Attachment #747786</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c62"><div class="comment" data-id="7411261" data-no="62">
    
    <table class="layout-table change-head " id="ch-62">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a10421143_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a10421143_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-62">-</button>
        </td>
      </tr>

      <tr id="cr-62" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c62">Comment 62</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-10 13:44 PDT" data-time="1368218666">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-62">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-62">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=747787" name="attach_747787" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">attachment 747787</a> <a href="attachment.cgi?id=747787&amp;action=edit" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">[details]</a> <a href="attachment.cgi?id=747787&amp;action=diff" title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747787'>[review]</a>
patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747787&amp;action=edit"
           title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree."
           class=""
        >Attachment #747787</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c63"><div class="comment" data-id="7411262" data-no="63">
    
    <table class="layout-table change-head " id="ch-63">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a10421143_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a10421143_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-63">-</button>
        </td>
      </tr>

      <tr id="cr-63" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c63">Comment 63</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-10 13:44 PDT" data-time="1368218693">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-63">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-63">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=747788" name="attach_747788" title="patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow.">attachment 747788</a> <a href="attachment.cgi?id=747788&amp;action=edit" title="patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow.">[details]</a> <a href="attachment.cgi?id=747788&amp;action=diff" title="patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=747788'>[review]</a>
patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747788&amp;action=edit"
           title="patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow."
           class=""
        >Attachment #747788</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c64"><div class="comment" data-id="7412038" data-no="64">
    
    <table class="layout-table change-head assignee" id="ch-64">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10421143_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10421143_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-64">-</button>
        </td>
      </tr>

      <tr id="cr-64" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c64">Comment 64</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-10 17:36 PDT" data-time="1368232610">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-64">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-64">Landed patches 1 to 4.5:
remote:   <a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/6979d9274697">https://hg.mozilla.org/integration/mozilla-inbound/rev/6979d9274697</a>
remote:   <a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/bf5fd9db9078">https://hg.mozilla.org/integration/mozilla-inbound/rev/bf5fd9db9078</a>
remote:   <a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/09552b219c3a">https://hg.mozilla.org/integration/mozilla-inbound/rev/09552b219c3a</a>
remote:   <a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/9c42b49f5cac">https://hg.mozilla.org/integration/mozilla-inbound/rev/9c42b49f5cac</a>
remote:   <a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/b7330cb50416">https://hg.mozilla.org/integration/mozilla-inbound/rev/b7330cb50416</a>

I think 5-7 are bad as stated in <a href="show_bug.cgi?id=828312#c55">comment 55</a>; I think the rest of the fix is therefore the long term plan from <a href="show_bug.cgi?id=828312#c45">comment 45</a>.</pre><div class="activity"><div class="change">OS: Windows 7 &rarr; All</div><div class="change">Hardware: x86_64 &rarr; All</div><div class="change">Whiteboard: [leave open]</div></div></div><div class="change-set" id="c65"><div class="comment" data-id="7412091" data-no="65">
    
    <table class="layout-table change-head assignee" id="ch-65">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10421143_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10421143_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-65">-</button>
        </td>
      </tr>

      <tr id="cr-65" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c65">Comment 65</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-10 18:07 PDT" data-time="1368234445">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-65">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-65">And bustage fix for patch 3 (warnings-as-errors failure from addressing <a href="show_bug.cgi?id=828312#c59">comment 59</a>):
<a rel="nofollow" href="http://hg.mozilla.org/integration/mozilla-inbound/rev/603fbfa2f12e">http://hg.mozilla.org/integration/mozilla-inbound/rev/603fbfa2f12e</a></pre></div><div class="change-set" id="c66"><div class="comment" data-id="7413286" data-no="66">
    
    <table class="layout-table change-head assignee" id="ch-66">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10421143_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10421143_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-66">-</button>
        </td>
      </tr>

      <tr id="cr-66" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c66">Comment 66</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-11 22:48 PDT" data-time="1368337702">5 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-66">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-66"><a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/6979d9274697">https://hg.mozilla.org/mozilla-central/rev/6979d9274697</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/bf5fd9db9078">https://hg.mozilla.org/mozilla-central/rev/bf5fd9db9078</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/09552b219c3a">https://hg.mozilla.org/mozilla-central/rev/09552b219c3a</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/9c42b49f5cac">https://hg.mozilla.org/mozilla-central/rev/9c42b49f5cac</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/b7330cb50416">https://hg.mozilla.org/mozilla-central/rev/b7330cb50416</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/603fbfa2f12e">https://hg.mozilla.org/mozilla-central/rev/603fbfa2f12e</a></pre></div><div class="change-set" id="a10664542_293623"><div class="change" id="aa10664542_293623">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_293623" id="a10664542_293623"><img src="https://secure.gravatar.com/avatar/84a471377672984b156be0ee5880ff50?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_293623" id="a10664542_293623"><a class="email " href="user_profile?user_id=293623" > <span class="fna">Alice0775 White</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a10664542_293623">-</button>
        </td>
      </tr>
      <tr id="ar-a10664542_293623">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a10664542_293623">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-12 18:01 PDT" data-time="1368406887">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Layout problem on certain site since landing of Bug 828312"
   href="show_bug.cgi?id=871338">871338</a></div></div></div><div class="change-set cc-only" id="a10684381_255010" style="display:none"><div class="change" id="aa10684381_255010">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_255010" id="a10684381_255010"><img src="https://secure.gravatar.com/avatar/0646a42110a02dd585f200f270716852?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_255010" id="a10684381_255010"><a class="email " href="user_profile?user_id=255010" > <span class="fna">Timothy Nikkel (:tnikkel)</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a10684381_255010">-</button>
        </td>
      </tr>
      <tr id="ar-a10684381_255010">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a10684381_255010">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-12 23:32 PDT" data-time="1368426726">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: tnikkel</div></div></div><div class="change-set cc-only" id="a10714554_420570" style="display:none"><div class="change" id="aa10714554_420570">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_420570" id="a10714554_420570"><img src="https://secure.gravatar.com/avatar/6390ab7da39a6bc425a25ef1798f5729?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_420570" id="a10714554_420570"><a class="email " href="user_profile?user_id=420570" > <span class="fna">Willy_ Foo_Foo</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a10714554_420570">-</button>
        </td>
      </tr>
      <tr id="ar-a10714554_420570">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a10714554_420570">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-13 07:54 PDT" data-time="1368456899">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: bezaleel360</div></div></div><div class="change-set" id="c67"><div class="comment" data-id="7428220" data-no="67">
    
    <table class="layout-table change-head assignee" id="ch-67">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10714554_420570"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10714554_420570"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-67">-</button>
        </td>
      </tr>

      <tr id="cr-67" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c67">Comment 67</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-15 16:20 PDT" data-time="1368660010">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-67">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-67">Here's a try run on a patch series that moves to the model where hints apply across all continuations (but not special siblings).
<a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=231d73463d18">https://tbpl.mozilla.org/?tree=Try&amp;rev=231d73463d18</a></pre></div><div class="change-set" id="c68"><div class="comment" data-id="7428772" data-no="68">
    
    <table class="layout-table change-head assignee" id="ch-68">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10714554_420570"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10714554_420570"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-68">-</button>
        </td>
      </tr>

      <tr id="cr-68" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c68">Comment 68</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-15 19:36 PDT" data-time="1368671770">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-68">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-68">So the try run triggered a single assertion failure.

What I suspect the problem is (though I haven't verified it) is that the change I made in nsFrameManager::ReResolveStyleContext no longer avoids reresolving style on the descendants of a later continuation of a content node that is going to get reframed.  I think this is relatively easy to fix if I use a global frame state bit (we're almost out, I fear); I'm not sure how else to fix it.</pre></div><div class="change-set" id="c69"><div class="comment" data-id="7428904" data-no="69">
    
    <table class="layout-table change-head assignee" id="ch-69">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10714554_420570"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10714554_420570"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-69">-</button>
        </td>
      </tr>

      <tr id="cr-69" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c69">Comment 69</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-05-15 20:27 PDT" data-time="1368674836">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-69">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-69">Actually, I realized on the way home that that's not true.  The problem is failure to propagate non-inherited hints correctly to descendants because we haven't computed the style change for the parent.  And both problems can be fixed by changing the order we walk the frames to reach continuations through their prior continuations (including when we walk their children).</pre></div><div class="change-set" id="c70"><div class="comment" data-id="7588405" data-no="70">
    
    <table class="layout-table change-head reporter" id="ch-70">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_459995" id="a10714554_420570"><img src="https://secure.gravatar.com/avatar/de14456fb759903ea98e564f9d51bc71?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_459995" id="a10714554_420570"><a class="email " href="user_profile?user_id=459995" > <span class="fna">Robert Prins</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-70">-</button>
        </td>
      </tr>

      <tr id="cr-70" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c70">Comment 70</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-06-29 12:12 PDT" data-time="1372533121">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-70">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-70">Just upgraded to FF 22.0, the bug is still present, almost six months after reporting it. What was wrong with the FF 17 code that worked flawlessly?</pre></div><div class="change-set" id="c71"><div class="comment" data-id="7588738" data-no="71">
    
    <table class="layout-table change-head " id="ch-71">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a10714554_420570"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a10714554_420570"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-71">-</button>
        </td>
      </tr>

      <tr id="cr-71" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c71">Comment 71</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-06-29 22:04 PDT" data-time="1372568643">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-71">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-71">It was too slow in other cases; see <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Changing the transform on an element spends 1/3 of the time in style recomputation and comparison"
   href="show_bug.cgi?id=779968">bug 779968</a>.</pre></div><div class="change-set" id="c72"><div class="comment" data-id="7588800" data-no="72">
    
    <table class="layout-table change-head reporter" id="ch-72">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_459995" id="a10714554_420570"><img src="https://secure.gravatar.com/avatar/de14456fb759903ea98e564f9d51bc71?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_459995" id="a10714554_420570"><a class="email " href="user_profile?user_id=459995" > <span class="fna">Robert Prins</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-72">-</button>
        </td>
      </tr>

      <tr id="cr-72" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c72">Comment 72</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-06-30 01:00 PDT" data-time="1372579210">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-72">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-72"><span class="quote">&gt; It was too slow in other cases; see <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Changing the transform on an element spends 1/3 of the time in style recomputation and comparison"
   href="show_bug.cgi?id=779968">bug 779968</a>.</span >
I don't remember how long it took FF 17 with the attached test case, (yes, more than just a few seconds) but &quot;too slow&quot; is relative compared to &quot;it completely hangs the browser&quot;...

Oh well, I'll sit back and wait patiently.</pre></div><div class="change-set" id="c73"><div class="comment" data-id="7588806" data-no="73">
    
    <table class="layout-table change-head assignee" id="ch-73">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a10714554_420570"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a10714554_420570"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-73">-</button>
        </td>
      </tr>

      <tr id="cr-73" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c73">Comment 73</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-06-30 01:12 PDT" data-time="1372579923">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-73">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-73">(In reply to Robert Prins from <a href="show_bug.cgi?id=828312#c72">comment #72</a>)
<span class="quote">&gt; &gt; It was too slow in other cases; see <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Changing the transform on an element spends 1/3 of the time in style recomputation and comparison"
   href="show_bug.cgi?id=779968">bug 779968</a>.
&gt; I don't remember how long it took FF 17 with the attached test case, (yes,
&gt; more than just a few seconds) but &quot;too slow&quot; is relative compared to &quot;it
&gt; completely hangs the browser&quot;...</span >

Though it's also a difference between too slow in a relatively common case vs. hangs the browser in an extremely strange case that only one user has reported.


In any case, sorry for managing to drop this in the midst of some other stuff; I'll try to finish it up soon.</pre></div><div class="change-set" id="a16771477_3881"><div class="change" id="aa16771477_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a16771477_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a16771477_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a16771477_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a16771477_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a16771477_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-07-22 10:23 PDT" data-time="1374513822">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - CSS :hover styling not being removed when pointer leaves target element"
   href="show_bug.cgi?id=895810">895810</a></div></div></div><div class="change-set" id="a17090242_3881"><div class="change" id="aa17090242_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a17090242_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a17090242_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a17090242_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a17090242_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a17090242_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-07-26 02:56 PDT" data-time="1374832587">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - make ElementRestyler::Restyle traverse tree through continuations"
   href="show_bug.cgi?id=898333">898333</a></div></div></div><div class="change-set" id="c74"><div class="comment" data-id="7734846" data-no="74">
    
    <table class="layout-table change-head " id="ch-74">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_477701" id="a17090242_3881"><img src="https://secure.gravatar.com/avatar/4db2a698f551528d0989f275ecf6edad?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_477701" id="a17090242_3881"><a class="email " href="user_profile?user_id=477701" > <span class="fna">Christopher Booth</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-74">-</button>
        </td>
      </tr>

      <tr id="cr-74" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c74">Comment 74</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-08-10 14:00 PDT" data-time="1376168444">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-74">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-74">This is the primary reason why I temporarily shut off javascript by going to options and unchecking the box in Content, Enable Javascript. For those who do not know, javascript is what give the web stupid web tricks, like opening a new window when you click the close box so that you can not leave a website that you are not interested in. <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Remove &quot;Enable JavaScript&quot; checkbox from Prefs"
   href="show_bug.cgi?id=851702">Bug 851702</a>, now closed to comment by mere mortals and illy advised implemented in Release 23.0 needs to be reversed immediately. We can not tell our users what they want. Some people categorically shut off javascript, some, like me, shut it off when it hangs up the browser. The same is true of shutting off image loading. If someone is on a dialup connection or are nearing their ISP download limit for the month they can shut off images and reduce by billions the number of bytes downloaded. That was <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Remove &quot;Load images automatically&quot; checkbox from Prefs"
   href="show_bug.cgi?id=851701">bug 851701</a>, also implemented in 23, and which also needs to be reversed immediately. Only morons write web pages that require images or javascript to be viewed or used. There is absolutely no reason to cater to them by removing it from the browser options.</pre><div class="activity cc-only" style="display:none"><div class="change">CC: cb736</div></div></div><div class="change-set" id="c75"><div class="comment" data-id="7868004" data-no="75">
    
    <table class="layout-table change-head assignee" id="ch-75">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a17090242_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a17090242_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-75">-</button>
        </td>
      </tr>

      <tr id="cr-75" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c75">Comment 75</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-16 20:47 PDT" data-time="1379389632">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-75">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-75"><a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=8d27591c2ca6">https://tbpl.mozilla.org/?tree=Try&amp;rev=8d27591c2ca6</a></pre></div><div class="change-set" id="c76"><div class="comment" data-id="7869278" data-no="76">
    
    <table class="layout-table change-head assignee" id="ch-76">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a17090242_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a17090242_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-76">-</button>
        </td>
      </tr>

      <tr id="cr-76" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c76">Comment 76</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-17 06:11 PDT" data-time="1379423465">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-76">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-76"><a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=80a896d4657b">https://tbpl.mozilla.org/?tree=Try&amp;rev=80a896d4657b</a></pre></div><div class="change-set" id="c77"><div class="comment" data-id="7872097" data-no="77">
    
    <table class="layout-table change-head assignee" id="ch-77">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a17090242_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a17090242_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-77">-</button>
        </td>
      </tr>

      <tr id="cr-77" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c77">Comment 77</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-17 15:49 PDT" data-time="1379458185">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-77">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-77">Created <span class=""><a href="attachment.cgi?id=806304" name="attach_806304" title="patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global.">attachment 806304</a> <a href="attachment.cgi?id=806304&amp;action=edit" title="patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global.">[details]</a> <a href="attachment.cgi?id=806304&amp;action=diff" title="patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806304'>[review]</a>
patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global.

(This is part of the patch stack making change hints apply across all
continuations and block-in-inline siblings.  In this case, however, the
change hint only needs to apply once, globally.)</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806304&amp;action=edit"
           title="patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global."
           class=""
        >Attachment #806304</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c78"><div class="comment" data-id="7872098" data-no="78">
    
    <table class="layout-table change-head assignee" id="ch-78">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a17090242_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a17090242_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-78">-</button>
        </td>
      </tr>

      <tr id="cr-78" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c78">Comment 78</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-17 15:49 PDT" data-time="1379458196">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-78">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-78">Created <span class=""><a href="attachment.cgi?id=806305" name="attach_806305" title="patch 6:  Make early transform handling only check continuations.">attachment 806305</a> <a href="attachment.cgi?id=806305&amp;action=edit" title="patch 6:  Make early transform handling only check continuations.">[details]</a> <a href="attachment.cgi?id=806305&amp;action=diff" title="patch 6:  Make early transform handling only check continuations.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806305'>[review]</a>
patch 6:  Make early transform handling only check continuations.

This is part of the patch stack making change hints apply across all
continuations and block-in-inline siblings.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806305&amp;action=edit"
           title="patch 6:  Make early transform handling only check continuations."
           class=""
        >Attachment #806305</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c79"><div class="comment" data-id="7872099" data-no="79">
    
    <table class="layout-table change-head assignee" id="ch-79">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a17090242_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a17090242_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-79">-</button>
        </td>
      </tr>

      <tr id="cr-79" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c79">Comment 79</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-17 15:50 PDT" data-time="1379458208">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-79">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-79">Created <span class=""><a href="attachment.cgi?id=806306" name="attach_806306" title="patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling.">attachment 806306</a> <a href="attachment.cgi?id=806306&amp;action=edit" title="patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling.">[details]</a> <a href="attachment.cgi?id=806306&amp;action=diff" title="patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806306'>[review]</a>
patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806306&amp;action=edit"
           title="patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling."
           class=""
        >Attachment #806306</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c80"><div class="comment" data-id="7872100" data-no="80">
    
    <table class="layout-table change-head assignee" id="ch-80">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a17090242_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a17090242_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-80">-</button>
        </td>
      </tr>

      <tr id="cr-80" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c80">Comment 80</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-17 15:50 PDT" data-time="1379458221">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-80">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-80">Created <span class=""><a href="attachment.cgi?id=806307" name="attach_806307" title="patch 8:  Make handling of UpdateEffects hint check continuations.">attachment 806307</a> <a href="attachment.cgi?id=806307&amp;action=edit" title="patch 8:  Make handling of UpdateEffects hint check continuations.">[details]</a> <a href="attachment.cgi?id=806307&amp;action=diff" title="patch 8:  Make handling of UpdateEffects hint check continuations.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806307'>[review]</a>
patch 8:  Make handling of UpdateEffects hint check continuations.

This is part of the patch stack making change hints apply across all
continuations and block-in-inline siblings.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806307&amp;action=edit"
           title="patch 8:  Make handling of UpdateEffects hint check continuations."
           class=""
        >Attachment #806307</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c81"><div class="comment" data-id="7872101" data-no="81">
    
    <table class="layout-table change-head assignee" id="ch-81">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a17090242_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a17090242_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-81">-</button>
        </td>
      </tr>

      <tr id="cr-81" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c81">Comment 81</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-17 15:50 PDT" data-time="1379458234">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-81">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-81">Created <span class="bz_obsolete"><a href="attachment.cgi?id=806308" name="attach_806308" title="patch 9:  Make handling of RecomputePosition hint check continuations.">attachment 806308</a> <a href="attachment.cgi?id=806308&amp;action=edit" title="patch 9:  Make handling of RecomputePosition hint check continuations.">[details]</a> <a href="attachment.cgi?id=806308&amp;action=diff" title="patch 9:  Make handling of RecomputePosition hint check continuations.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806308'>[review]</a>
patch 9:  Make handling of RecomputePosition hint check continuations.

This is part of the patch stack making change hints apply across all
continuations and block-in-inline siblings.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806308&amp;action=edit"
           title="patch 9:  Make handling of RecomputePosition hint check continuations."
           class=""
        >Attachment #806308</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c82"><div class="comment" data-id="7872102" data-no="82">
    
    <table class="layout-table change-head assignee" id="ch-82">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a17090242_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a17090242_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-82">-</button>
        </td>
      </tr>

      <tr id="cr-82" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c82">Comment 82</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-17 15:50 PDT" data-time="1379458247">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-82">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-82">Created <span class=""><a href="attachment.cgi?id=806309" name="attach_806309" title="patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations.">attachment 806309</a> <a href="attachment.cgi?id=806309&amp;action=edit" title="patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations.">[details]</a> <a href="attachment.cgi?id=806309&amp;action=diff" title="patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806309'>[review]</a>
patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations.

This is part of the patch stack making change hints apply across all
continuations and block-in-inline siblings.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806309&amp;action=edit"
           title="patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations."
           class=""
        >Attachment #806309</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="c83"><div class="comment" data-id="7872103" data-no="83">
    
    <table class="layout-table change-head assignee" id="ch-83">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a17090242_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a17090242_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-83">-</button>
        </td>
      </tr>

      <tr id="cr-83" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c83">Comment 83</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-17 15:51 PDT" data-time="1379458260">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-83">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-83">Created <span class=""><a href="attachment.cgi?id=806310" name="attach_806310" title="patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work.">attachment 806310</a> <a href="attachment.cgi?id=806310&amp;action=edit" title="patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work.">[details]</a> <a href="attachment.cgi?id=806310&amp;action=diff" title="patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806310'>[review]</a>
patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work.

This depends on <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - make ElementRestyler::Restyle traverse tree through continuations"
   href="show_bug.cgi?id=898333">bug 898333</a> in order to avoid causing:
TEST-UNEXPECTED-FAIL | chrome://mochitests/content/chrome/dom/tests/mochitest/chrome/test_focused_link_scroll.xul | Assertion count 1 is greater than expected range 0-0 assertions.
due to the assertion:
###!!! ASSERTION: Shouldn't be trying to restyle non-elements directly: '!aContent || aContent-&gt;IsElement()', file ../../../layout/base/nsStyleChangeList.cpp, line 62

The assertion count change in layout/generic/crashtests/571995.xhtml is
expected because it changes us from having 7 of:
###!!! ASSERTION: Shouldn't be trying to restyle non-elements directly: '!aContent || aContent-&gt;IsElement()', file ../../../layout/base/nsStyleChangeList.cpp, line 62
with the stack:
  mozilla::ElementRestyler::CaptureChange(nsStyleContext*, nsStyleContext*, nsChangeHint) [layout/base/nsChangeHint.h:191]
  mozilla::ElementRestyler::RestyleSelf(nsRestyleHint) [layout/base/RestyleManager.cpp:2304]
to only having one.  This is expected since this patch changes
RestyleSelf to only call CaptureChange for the first continuation or
block-in-inline sibling.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806310&amp;action=edit"
           title="patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work."
           class=""
        >Attachment #806310</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="a21715977_3881"><div class="change" id="aa21715977_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a21715977_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a21715977_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a21715977_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a21715977_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a21715977_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-17 15:52 PDT" data-time="1379458322">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747786&amp;action=edit"
           title="patch 5:  Don't loop over continuations in nsCSSFrameConstructor::StyleChangeReflow."
           class=""
        >Attachment #747786</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a21715982_3881"><div class="change" id="aa21715982_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a21715982_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a21715982_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a21715982_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a21715982_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a21715982_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-17 15:52 PDT" data-time="1379458327">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747787&amp;action=edit"
           title="patch 6:  Don't loop over continuations in DoApplyRenderingChangeToTree."
           class=""
        >Attachment #747787</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a21715991_3881"><div class="change" id="aa21715991_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a21715991_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a21715991_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a21715991_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a21715991_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a21715991_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-17 15:52 PDT" data-time="1379458336">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=747788&amp;action=edit"
           title="patch 7:  Don't loop over continuations when handling nsChangeHint_UpdateOverflow."
           class=""
        >Attachment #747788</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c84"><div class="comment" data-id="7876332" data-no="84">
    
    <table class="layout-table change-head " id="ch-84">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a21715991_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a21715991_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-84">-</button>
        </td>
      </tr>

      <tr id="cr-84" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c84">Comment 84</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-18 13:06 PDT" data-time="1379534789">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-84">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-84">Comment on <span class=""><a href="attachment.cgi?id=806304" name="attach_806304" title="patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global.">attachment 806304</a> <a href="attachment.cgi?id=806304&amp;action=edit" title="patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global.">[details]</a> <a href="attachment.cgi?id=806304&amp;action=diff" title="patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806304'>[review]</a>
patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806304&amp;action=edit"
           title="patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global."
           class=""
        >Attachment #806304</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c85"><div class="comment" data-id="7876342" data-no="85">
    
    <table class="layout-table change-head " id="ch-85">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a21715991_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a21715991_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-85">-</button>
        </td>
      </tr>

      <tr id="cr-85" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c85">Comment 85</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-18 13:07 PDT" data-time="1379534863">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-85">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-85">Comment on <span class=""><a href="attachment.cgi?id=806305" name="attach_806305" title="patch 6:  Make early transform handling only check continuations.">attachment 806305</a> <a href="attachment.cgi?id=806305&amp;action=edit" title="patch 6:  Make early transform handling only check continuations.">[details]</a> <a href="attachment.cgi?id=806305&amp;action=diff" title="patch 6:  Make early transform handling only check continuations.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806305'>[review]</a>
patch 6:  Make early transform handling only check continuations.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806305&amp;action=edit"
           title="patch 6:  Make early transform handling only check continuations."
           class=""
        >Attachment #806305</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c86"><div class="comment" data-id="7876357" data-no="86">
    
    <table class="layout-table change-head " id="ch-86">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a21715991_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a21715991_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-86">-</button>
        </td>
      </tr>

      <tr id="cr-86" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c86">Comment 86</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-18 13:10 PDT" data-time="1379535047">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-86">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-86">Comment on <span class=""><a href="attachment.cgi?id=806306" name="attach_806306" title="patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling.">attachment 806306</a> <a href="attachment.cgi?id=806306&amp;action=edit" title="patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling.">[details]</a> <a href="attachment.cgi?id=806306&amp;action=diff" title="patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806306'>[review]</a>
patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806306&amp;action=edit"
           title="patch 7:  Use more typical loop structure and don't mutate |frame| in UpdateOverflow hint handling."
           class=""
        >Attachment #806306</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c87"><div class="comment" data-id="7876362" data-no="87">
    
    <table class="layout-table change-head " id="ch-87">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a21715991_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a21715991_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-87">-</button>
        </td>
      </tr>

      <tr id="cr-87" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c87">Comment 87</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-18 13:12 PDT" data-time="1379535152">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-87">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-87">Comment on <span class=""><a href="attachment.cgi?id=806307" name="attach_806307" title="patch 8:  Make handling of UpdateEffects hint check continuations.">attachment 806307</a> <a href="attachment.cgi?id=806307&amp;action=edit" title="patch 8:  Make handling of UpdateEffects hint check continuations.">[details]</a> <a href="attachment.cgi?id=806307&amp;action=diff" title="patch 8:  Make handling of UpdateEffects hint check continuations.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806307'>[review]</a>
patch 8:  Make handling of UpdateEffects hint check continuations.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806307&amp;action=edit"
           title="patch 8:  Make handling of UpdateEffects hint check continuations."
           class=""
        >Attachment #806307</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c88"><div class="comment" data-id="7876385" data-no="88">
    
    <table class="layout-table change-head " id="ch-88">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a21715991_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a21715991_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-88">-</button>
        </td>
      </tr>

      <tr id="cr-88" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c88">Comment 88</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-18 13:19 PDT" data-time="1379535543">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-88">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-88">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=806308" name="attach_806308" title="patch 9:  Make handling of RecomputePosition hint check continuations.">attachment 806308</a> <a href="attachment.cgi?id=806308&amp;action=edit" title="patch 9:  Make handling of RecomputePosition hint check continuations.">[details]</a> <a href="attachment.cgi?id=806308&amp;action=diff" title="patch 9:  Make handling of RecomputePosition hint check continuations.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806308'>[review]</a>
patch 9:  Make handling of RecomputePosition hint check continuations.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806308&amp;action=edit"
           title="patch 9:  Make handling of RecomputePosition hint check continuations."
           class=""
        >Attachment #806308</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c89"><div class="comment" data-id="7876386" data-no="89">
    
    <table class="layout-table change-head " id="ch-89">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a21715991_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a21715991_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-89">-</button>
        </td>
      </tr>

      <tr id="cr-89" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c89">Comment 89</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-18 13:19 PDT" data-time="1379535587">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-89">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-89">Comment on <span class=""><a href="attachment.cgi?id=806309" name="attach_806309" title="patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations.">attachment 806309</a> <a href="attachment.cgi?id=806309&amp;action=edit" title="patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations.">[details]</a> <a href="attachment.cgi?id=806309&amp;action=diff" title="patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806309'>[review]</a>
patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806309&amp;action=edit"
           title="patch 10:  Add assertions to check that handling of nsChangeHint_ChildrenOnlyTransform doesn't need to check continuations."
           class=""
        >Attachment #806309</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c90"><div class="comment" data-id="7876399" data-no="90">
    
    <table class="layout-table change-head " id="ch-90">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a21715991_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a21715991_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-90">-</button>
        </td>
      </tr>

      <tr id="cr-90" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c90">Comment 90</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-18 13:22 PDT" data-time="1379535772">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-90">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-90">Comment on <span class=""><a href="attachment.cgi?id=806310" name="attach_806310" title="patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work.">attachment 806310</a> <a href="attachment.cgi?id=806310&amp;action=edit" title="patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work.">[details]</a> <a href="attachment.cgi?id=806310&amp;action=diff" title="patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=806310'>[review]</a>
patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806310&amp;action=edit"
           title="patch 11:  Don't generate change hints for restyling of later continuations, since the handling of the change hints from the first continuation is required to do the necessary work."
           class=""
        >Attachment #806310</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="a21795282_3881"><div class="change" id="aa21795282_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a21795282_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a21795282_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a21795282_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a21795282_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a21795282_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-18 13:53 PDT" data-time="1379537627">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link 
          bz_status_ASSIGNED "
   title="ASSIGNED - don't make a RestyleSelf call for each continuation (and similar inReParentStyleContext)"
   href="show_bug.cgi?id=918064">918064</a></div></div></div><div class="change-set" id="c91"><div class="comment" data-id="7876938" data-no="91">
    
    <table class="layout-table change-head assignee" id="ch-91">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a21795282_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a21795282_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-91">-</button>
        </td>
      </tr>

      <tr id="cr-91" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c91">Comment 91</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-18 15:30 PDT" data-time="1379543430">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-91">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-91">Patch 9 needs to be rewritten post-<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Handle sticky positioning where the element or its containing-block element have multiple frames"
   href="show_bug.cgi?id=904197">bug 904197</a>.</pre></div><div class="change-set" id="c92"><div class="comment" data-id="7898039" data-no="92">
    
    <table class="layout-table change-head assignee" id="ch-92">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a21795282_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a21795282_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-92">-</button>
        </td>
      </tr>

      <tr id="cr-92" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c92">Comment 92</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-24 17:07 PDT" data-time="1380067624">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-92">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-92"><a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=27663740644e">https://tbpl.mozilla.org/?tree=Try&amp;rev=27663740644e</a></pre></div><div class="change-set" id="c93"><div class="comment" data-id="7898041" data-no="93">
    
    <table class="layout-table change-head assignee" id="ch-93">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a21795282_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a21795282_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-93">-</button>
        </td>
      </tr>

      <tr id="cr-93" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c93">Comment 93</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-24 17:07 PDT" data-time="1380067645">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-93">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-93">Created <span class="bz_obsolete"><a href="attachment.cgi?id=809553" name="attach_809553" title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly.">attachment 809553</a> <a href="attachment.cgi?id=809553&amp;action=edit" title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly.">[details]</a> <a href="attachment.cgi?id=809553&amp;action=diff" title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=809553'>[review]</a>
patch 9a:  Make sticky positioning handle block-in-inline splits correctly.

This assumes that the specification for how position:sticky behaves for
block-in-inline splits matches the specification for position:relative,
in other words, matches
<a rel="nofollow" href="http://www.w3.org/TR/CSS21/visuren.html#anonymous-block-level">http://www.w3.org/TR/CSS21/visuren.html#anonymous-block-level</a> .

It's also necessary for patch 9b since the new rule for handling of
style change hints is that a style change hint applies to all
continuations and all block-in-inline siblings (&quot;special siblings&quot;).

The change in StickyScrollContainer::GetScrollRanges is really the fix
for <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: Can't sticky position individual continuations&quot; with rtl, wrapping"
   href="show_bug.cgi?id=918994">bug 918994</a>, but adjusted for the change here to use block-in-inline
siblings (&quot;special siblings&quot;) in addition to continuations.</pre><div class="activity"><div class="change cc-only" style="display:none">CC: dholbert</div><div class="change">
        <a href="attachment.cgi?id=809553&amp;action=edit"
           title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly."
           class=""
        >Attachment #809553</a> -
        Flags: review?(dholbert)</div></div></div><div class="change-set" id="c94"><div class="comment" data-id="7898042" data-no="94">
    
    <table class="layout-table change-head assignee" id="ch-94">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a21795282_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a21795282_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-94">-</button>
        </td>
      </tr>

      <tr id="cr-94" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c94">Comment 94</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-24 17:07 PDT" data-time="1380067659">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-94">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-94">Created <span class=""><a href="attachment.cgi?id=809554" name="attach_809554" title="patch 9b:  Make handling of RecomputePosition hint check continuations.">attachment 809554</a> <a href="attachment.cgi?id=809554&amp;action=edit" title="patch 9b:  Make handling of RecomputePosition hint check continuations.">[details]</a> <a href="attachment.cgi?id=809554&amp;action=diff" title="patch 9b:  Make handling of RecomputePosition hint check continuations.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=809554'>[review]</a>
patch 9b:  Make handling of RecomputePosition hint check continuations.

This is part of the patch stack making change hints apply across all
continuations and block-in-inline siblings.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=809554&amp;action=edit"
           title="patch 9b:  Make handling of RecomputePosition hint check continuations."
           class=""
        >Attachment #809554</a> -
        Flags: review?(bzbarsky)</div></div></div><div class="change-set" id="a22325325_3881"><div class="change" id="aa22325325_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a22325325_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a22325325_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a22325325_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a22325325_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a22325325_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-24 17:07 PDT" data-time="1380067670">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=806308&amp;action=edit"
           title="patch 9:  Make handling of RecomputePosition hint check continuations."
           class=""
        >Attachment #806308</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c95"><div class="comment" data-id="7898044" data-no="95">
    
    <table class="layout-table change-head assignee" id="ch-95">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a22325325_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a22325325_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-95">-</button>
        </td>
      </tr>

      <tr id="cr-95" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c95">Comment 95</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-24 17:08 PDT" data-time="1380067716">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-95">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-95">And I need to file a followup bug on the FIXME comments in patch 9a, blocking the bug on enabling position:sticky.</pre></div><div class="change-set" id="c96"><div class="comment" data-id="7898279" data-no="96">
    
    <table class="layout-table change-head " id="ch-96">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_20209" id="a22325325_3881"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_20209" id="a22325325_3881"><a class="email " href="user_profile?user_id=20209" > <span class="fna">Boris Zbarsky [:bz] (still digging out from vacation mail)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-96">-</button>
        </td>
      </tr>

      <tr id="cr-96" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c96">Comment 96</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-24 19:02 PDT" data-time="1380074527">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-96">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-96">Comment on <span class=""><a href="attachment.cgi?id=809554" name="attach_809554" title="patch 9b:  Make handling of RecomputePosition hint check continuations.">attachment 809554</a> <a href="attachment.cgi?id=809554&amp;action=edit" title="patch 9b:  Make handling of RecomputePosition hint check continuations.">[details]</a> <a href="attachment.cgi?id=809554&amp;action=diff" title="patch 9b:  Make handling of RecomputePosition hint check continuations.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=809554'>[review]</a>
patch 9b:  Make handling of RecomputePosition hint check continuations.

r=me</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=809554&amp;action=edit"
           title="patch 9b:  Make handling of RecomputePosition hint check continuations."
           class=""
        >Attachment #809554</a> -
        Flags: review?(bzbarsky) &rarr; review+</div></div></div><div class="change-set" id="c97"><div class="comment" data-id="7898670" data-no="97">
    
    <table class="layout-table change-head assignee" id="ch-97">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a22325325_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a22325325_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-97">-</button>
        </td>
      </tr>

      <tr id="cr-97" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c97">Comment 97</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-24 20:55 PDT" data-time="1380081348">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-97">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-97"><a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=9352d652be11">https://tbpl.mozilla.org/?tree=Try&amp;rev=9352d652be11</a> with two fixes:

 (1) add back the s/aFrame/cont/ inside the loop that got lost during rebasing

 (2) adjust the test in patch 9b to use 20px Ahem rather than 16px, since Ahem is best used in multiples of 5px so that both ascent (0.8em) and descent (0.2em) are integer pixels</pre></div><div class="change-set" id="c98"><div class="comment" data-id="7898673" data-no="98">
    
    <table class="layout-table change-head assignee" id="ch-98">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a22325325_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a22325325_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-98">-</button>
        </td>
      </tr>

      <tr id="cr-98" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c98">Comment 98</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-24 20:56 PDT" data-time="1380081393">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-98">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-98">(In reply to David Baron [:dbaron] (needinfo? me) from <a href="show_bug.cgi?id=828312#c97">comment #97</a>)
<span class="quote">&gt; <a rel="nofollow" href="https://tbpl.mozilla.org/?tree=Try&amp;rev=9352d652be11">https://tbpl.mozilla.org/?tree=Try&amp;rev=9352d652be11</a> with two fixes:
&gt; 
&gt;  (1) add back the s/aFrame/cont/ inside the loop that got lost during
&gt; rebasing</span >

in patch 9b

<span class="quote">&gt;  (2) adjust the test in patch 9b to use 20px Ahem rather than 16px, since
&gt; Ahem is best used in multiples of 5px so that both ascent (0.8em) and
&gt; descent (0.2em) are integer pixels</span >

er, I meant in patch 9a for this one</pre></div><div class="change-set" id="c99"><div class="comment" data-id="7898675" data-no="99">
    
    <table class="layout-table change-head assignee" id="ch-99">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a22325325_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a22325325_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-99">-</button>
        </td>
      </tr>

      <tr id="cr-99" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c99">Comment 99</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-24 20:56 PDT" data-time="1380081418">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-99">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-99">Created <span class=""><a href="attachment.cgi?id=809634" name="attach_809634" title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly.">attachment 809634</a> <a href="attachment.cgi?id=809634&amp;action=edit" title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly.">[details]</a> <a href="attachment.cgi?id=809634&amp;action=diff" title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=809634'>[review]</a>
patch 9a:  Make sticky positioning handle block-in-inline splits correctly.

This assumes that the specification for how position:sticky behaves for
block-in-inline splits matches the specification for position:relative,
in other words, matches
<a rel="nofollow" href="http://www.w3.org/TR/CSS21/visuren.html#anonymous-block-level">http://www.w3.org/TR/CSS21/visuren.html#anonymous-block-level</a> .

It's also necessary for patch 9b since the new rule for handling of
style change hints is that a style change hint applies to all
continuations and all block-in-inline siblings (&quot;special siblings&quot;).

The change in StickyScrollContainer::GetScrollRanges is really the fix
for <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: Can't sticky position individual continuations&quot; with rtl, wrapping"
   href="show_bug.cgi?id=918994">bug 918994</a>, but adjusted for the change here to use block-in-inline
siblings (&quot;special siblings&quot;) in addition to continuations.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=809634&amp;action=edit"
           title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly."
           class=""
        >Attachment #809634</a> -
        Flags: review?(dholbert)</div></div></div><div class="change-set" id="a22339085_3881"><div class="change" id="aa22339085_3881">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a22339085_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_3881" id="a22339085_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a22339085_3881">-</button>
        </td>
      </tr>
      <tr id="ar-a22339085_3881">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a22339085_3881">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-24 20:57 PDT" data-time="1380081430">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=809553&amp;action=edit"
           title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly."
           class=""
        >Attachment #809553</a> -
        Attachment is obsolete: true</div><div class="change">
        <a href="attachment.cgi?id=809553&amp;action=edit"
           title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly."
           class=""
        >Attachment #809553</a> -
        Flags: <span class="activity-deleted">review?(dholbert)</span></div></div></div><div class="change-set" id="c100"><div class="comment" data-id="7902056" data-no="100">
    
    <table class="layout-table change-head " id="ch-100">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a22339085_3881"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_278074" id="a22339085_3881"><a class="email " href="user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-100">-</button>
        </td>
      </tr>

      <tr id="cr-100" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c100">Comment 100</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-25 12:01 PDT" data-time="1380135700">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-100">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-100">Comment on <span class=""><a href="attachment.cgi?id=809634" name="attach_809634" title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly.">attachment 809634</a> <a href="attachment.cgi?id=809634&amp;action=edit" title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly.">[details]</a> <a href="attachment.cgi?id=809634&amp;action=diff" title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly.">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=828312&amp;attachment=809634'>[review]</a>
patch 9a:  Make sticky positioning handle block-in-inline splits correctly.

Quoting block-in-inline-[123].html:
<span class="quote">&gt;+      #sticky {
&gt;+        display: inline;
&gt;+        position: sticky;</span >
[...]
<span class="quote">&gt;+        &lt;div id=&quot;sticky&quot;&gt;
&gt;+          before block
&gt;+          &lt;div&gt;in block&lt;/div&gt;</span >

It might be clearer to use &lt;span id=&quot;sticky&quot;&gt; instead of &lt;div&gt;, so that it's clearer that this is a block-in-inline chunk. (without needing to read the &lt;style&gt; block to find that the div is actually display:inline)

r=me regardless, though.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=809634&amp;action=edit"
           title="patch 9a:  Make sticky positioning handle block-in-inline splits correctly."
           class=""
        >Attachment #809634</a> -
        Flags: review?(dholbert) &rarr; review+</div></div></div><div class="change-set" id="c101"><div class="comment" data-id="7902102" data-no="101">
    
    <table class="layout-table change-head assignee" id="ch-101">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a22339085_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a22339085_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-101">-</button>
        </td>
      </tr>

      <tr id="cr-101" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c101">Comment 101</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-25 12:06 PDT" data-time="1380135992">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-101">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-101">I don't like putting &lt;div&gt; inside &lt;span&gt; because then there's some risk of parse-time fixup confusing the test results.  (Not sure if it's still true, but I got into that habit, and if it's a test we're going to contribute to the W3C, it seems worth sticking to.)</pre></div><div class="change-set" id="c102"><div class="comment" data-id="7902157" data-no="102">
    
    <table class="layout-table change-head " id="ch-102">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a22339085_3881"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_278074" id="a22339085_3881"><a class="email " href="user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-102">-</button>
        </td>
      </tr>

      <tr id="cr-102" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c102">Comment 102</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-25 12:18 PDT" data-time="1380136700">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-102">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-102">OK, fair enough.</pre></div><div class="change-set" id="c103"><div class="comment" data-id="7902247" data-no="103">
    
    <table class="layout-table change-head assignee" id="ch-103">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a22339085_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a22339085_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-103">-</button>
        </td>
      </tr>

      <tr id="cr-103" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c103">Comment 103</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-25 12:35 PDT" data-time="1380137744">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-103">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-103"><a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/044a7c94e02c">https://hg.mozilla.org/integration/mozilla-inbound/rev/044a7c94e02c</a>
<a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/7076f4fa4ecf">https://hg.mozilla.org/integration/mozilla-inbound/rev/7076f4fa4ecf</a>
<a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/b6efc5e94687">https://hg.mozilla.org/integration/mozilla-inbound/rev/b6efc5e94687</a>
<a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/c9e8dbb04c43">https://hg.mozilla.org/integration/mozilla-inbound/rev/c9e8dbb04c43</a>
<a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/8ba2dc63f1bf">https://hg.mozilla.org/integration/mozilla-inbound/rev/8ba2dc63f1bf</a>
<a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/bab54dc717fe">https://hg.mozilla.org/integration/mozilla-inbound/rev/bab54dc717fe</a>
<a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/57dddc90e046">https://hg.mozilla.org/integration/mozilla-inbound/rev/57dddc90e046</a>
<a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/9e259b87bdcf">https://hg.mozilla.org/integration/mozilla-inbound/rev/9e259b87bdcf</a></pre></div><div class="change-set" id="c104"><div class="comment" data-id="7903094" data-no="104">
    
    <table class="layout-table change-head assignee" id="ch-104">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a22339085_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a22339085_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-104">-</button>
        </td>
      </tr>

      <tr id="cr-104" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c104">Comment 104</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-25 15:46 PDT" data-time="1380149184">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-104">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-104"><a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/0c577bd421ea">https://hg.mozilla.org/integration/mozilla-inbound/rev/0c577bd421ea</a>
(needed fuzzy-if for OS X 10.8; I'm not going to worry about it right now)</pre></div><div class="change-set" id="c105"><div class="comment" data-id="7903547" data-no="105">
    
    <table class="layout-table change-head assignee" id="ch-105">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a22339085_3881"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a22339085_3881"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-105">-</button>
        </td>
      </tr>

      <tr id="cr-105" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c105">Comment 105</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-25 17:55 PDT" data-time="1380156923">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-105">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-105">And fuzzy on android in a different way (at the edge of the characters after a space):
<a rel="nofollow" href="https://hg.mozilla.org/integration/mozilla-inbound/rev/e64ed43f90ad">https://hg.mozilla.org/integration/mozilla-inbound/rev/e64ed43f90ad</a></pre></div><div class="change-set" id="c106"><div class="comment" data-id="7903981" data-no="106">
    
    <table class="layout-table change-head " id="ch-106">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_308534" id="a22339085_3881"><img src="https://secure.gravatar.com/avatar/a4e84853704b23feb5ccb8558a0110b8?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_308534" id="a22339085_3881"><a class="email " href="user_profile?user_id=308534" > <span class="fna">Wes Kocher (:KWierso)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-106">-</button>
        </td>
      </tr>

      <tr id="cr-106" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c106">Comment 106</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-25 20:36 PDT" data-time="1380166593">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-106">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-106"><a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/044a7c94e02c">https://hg.mozilla.org/mozilla-central/rev/044a7c94e02c</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/7076f4fa4ecf">https://hg.mozilla.org/mozilla-central/rev/7076f4fa4ecf</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/b6efc5e94687">https://hg.mozilla.org/mozilla-central/rev/b6efc5e94687</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/c9e8dbb04c43">https://hg.mozilla.org/mozilla-central/rev/c9e8dbb04c43</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/8ba2dc63f1bf">https://hg.mozilla.org/mozilla-central/rev/8ba2dc63f1bf</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/bab54dc717fe">https://hg.mozilla.org/mozilla-central/rev/bab54dc717fe</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/57dddc90e046">https://hg.mozilla.org/mozilla-central/rev/57dddc90e046</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/9e259b87bdcf">https://hg.mozilla.org/mozilla-central/rev/9e259b87bdcf</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/0c577bd421ea">https://hg.mozilla.org/mozilla-central/rev/0c577bd421ea</a>
<a rel="nofollow" href="https://hg.mozilla.org/mozilla-central/rev/e64ed43f90ad">https://hg.mozilla.org/mozilla-central/rev/e64ed43f90ad</a></pre></div><div class="change-set cc-only" id="a22461505_448618" style="display:none"><div class="change" id="aa22461505_448618">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_448618" id="a22461505_448618"><img src="https://secure.gravatar.com/avatar/3fcfe7a024b6d57813275114e5f11b57?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_448618" id="a22461505_448618"><a class="email " href="user_profile?user_id=448618" > <span class="fna">Syoichi Tsuyuhara</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a22461505_448618">-</button>
        </td>
      </tr>
      <tr id="ar-a22461505_448618">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a22461505_448618">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-09-26 06:57 PDT" data-time="1380203850">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: syoichi</div></div></div><div class="change-set" id="c107"><div class="comment" data-id="7942828" data-no="107">
    
    <table class="layout-table change-head " id="ch-107">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_472896" id="a22461505_448618"><img src="https://secure.gravatar.com/avatar/4bb8424550831f830d9408666d79e80b?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_472896" id="a22461505_448618"><a class="email " href="user_profile?user_id=472896" > <span class="fna">Corey Ford [:coyotebush]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-107">-</button>
        </td>
      </tr>

      <tr id="cr-107" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c107">Comment 107</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-10-09 13:13 PDT" data-time="1381349582">4 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-107">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-107">Does this still need to be [leave open]? And did these patches fix <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: Can't sticky position individual continuations&quot; with rtl, wrapping"
   href="show_bug.cgi?id=918994">bug 918994</a>?</pre><div class="activity"><div class="change cc-only" style="display:none">CC: corey</div><div class="change">Flags: needinfo?(dbaron)</div></div></div><div class="change-set" id="a24056809_75935"><div class="change" id="aa24056809_75935">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_75935" id="a24056809_75935"><img src="https://secure.gravatar.com/avatar/a10f7f199c75a9a5a1eb347730524a7a?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_75935" id="a24056809_75935"><a class="email " href="user_profile?user_id=75935" > <span class="fna">Ryan VanderMeulen [:RyanVM]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a24056809_75935">-</button>
        </td>
      </tr>
      <tr id="ar-a24056809_75935">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#a24056809_75935">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2013-10-14 18:05 PDT" data-time="1381799154">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - &quot;ASSERTION: Can't sticky position individual continuations&quot; with rtl, wrapping"
   href="show_bug.cgi?id=918994">918994</a></div></div></div><div class="change-set" id="c108"><div class="comment" data-id="11766841" data-no="108">
    
    <table class="layout-table change-head assignee" id="ch-108">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_3881" id="a24056809_75935"><img src="https://secure.gravatar.com/avatar/0a32391d55cfa63276f87eb9819dfbd0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_3881" id="a24056809_75935"><a class="email " href="user_profile?user_id=3881" > <span class="fna">David Baron :dbaron: ⌚️UTC-7</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-108">-</button>
        </td>
      </tr>

      <tr id="cr-108" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=828312#c108">Comment 108</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-10-06 16:10 PDT" data-time="1475795448">a year ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-108">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-108">Yes, I believe this was fixed when that last set of patches landed (i.e., for Firefox 27).  Seems like I can't set that milestone anymore, though.</pre><div class="activity"><div class="change">Status: NEW &rarr; RESOLVED</div><div class="change">Last Resolved: <span class="rel-time" title="2016-10-06 16:10 PDT" data-time="1475795448">a year ago</span></div><div class="change">Flags: <span class="activity-deleted">needinfo?(dbaron)</span></div><div class="change">Resolution: --- &rarr; FIXED</div><div class="change">Target Milestone: --- &rarr; mozilla30</div></div></div><div id="new-comment-notice">
          You need to <a href="show_bug.cgi?id=828312&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="minor">Top &uarr;</button>
    <div class="dropdown">
      <button type="button" id="format-btn" aria-haspopup="true" aria-label="Format Bug Menu"
        aria-expanded="false" aria-controls="format-menu" class="dropdown-button minor">Format Bug &#9652;</button>
      <ul class="dropdown-content menu-up" id="format-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a href="show_bug.cgi?format=multiple&amp;id=828312" role="menuitem" tabindex="-1">For Printing</a>
        </li>
        <li role="presentation">
          <a href="show_bug.cgi?ctype=xml&amp;id=828312" role="menuitem" tabindex="-1">XML</a>
        </li>
        <li role="presentation">
          <a href="show_bug.cgi?format=default&amp;id=828312" role="menuitem" tabindex="-1">Legacy</a>
        </li>
          <li role="presentation">
            <a href="rest/bug/828312" role="menuitem" tabindex="-1">JSON</a>
          </li>
      </ul>
    </div>
  </div>
</div></div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form quicksearch_form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
      class='quicksearch_check_empty'>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch"
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search"
           id="find_bottom"></form>
    [<a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">help</a>]
  </li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>


</ul>
  </li>

  
    

  


  
</ul>

  <div class="outro"><div id="policy_links">
  <ul>
    <li id="privacy_notice">
      <a href="https://www.mozilla.org/privacy/websites/" target="_blank">Privacy Notice</a> |
    </li>
    <li id="legal_terms">
      <a href="https://www.mozilla.org/about/legal/terms/mozilla" target="_blank">Legal Terms</a>
    </li>
  </ul>
</div></div>
</div>


</body>
</html>